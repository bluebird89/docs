# [node](https://github.com/nodejs/node)

Node.js JavaScript runtime âœ¨ğŸ¢ğŸš€âœ¨ <https://nodejs.org>

* JavaScriptæ˜¯å•è¿›ç¨‹å•çº¿ç¨‹åº”ç”¨ç¨‹åºï¼Œæ ¹æœ¬ä¸èƒ½è¿›è¡ŒåŒæ­¥IOæ“ä½œï¼Œæ‰€ä»¥ï¼ŒJavaScriptçš„è¿™ä¸€â€œç¼ºé™·â€å¯¼è‡´äº†åªèƒ½ä½¿ç”¨å¼‚æ­¥IO
* 2009å¹´ï¼ŒNode.js é¡¹ç›®è¯ç”Ÿï¼Œåˆ›å§‹äººä¸º Ryan Dahlï¼Œæ ‡å¿—ç€ JavaScript å¯ä»¥ç”¨äºæœåŠ¡å™¨ç«¯ç¼–ç¨‹ï¼Œä»æ­¤ç½‘ç«™çš„å‰ç«¯å’Œåç«¯å¯ä»¥ä½¿ç”¨åŒä¸€ç§è¯­è¨€å¼€å‘
* å€ŸåŠ©JavaScriptå¤©ç”Ÿçš„äº‹ä»¶é©±åŠ¨æœºåˆ¶åŠ V8é«˜æ€§èƒ½å¼•æ“ï¼Œä½¿ç¼–å†™é«˜æ€§èƒ½WebæœåŠ¡è½»è€Œæ˜“ä¸¾
    - é«˜æ€§èƒ½å¹¶è¡ŒI/Oä½¿å¾—åˆ†å¸ƒå¼å¼€å‘æ›´åŠ é«˜æ•ˆï¼Œåˆ©ç”¨ç¨³å®šæ¥å£å¯æå‡webæ¸²æŸ“é€Ÿåº¦ï¼Œé€‚åˆåšå®æ—¶åº”ç”¨å¼€å‘
    - V8 å¼•æ“æä¾›çš„å¼‚æ­¥æ‰§è¡Œå›è°ƒæ¥å£ï¼Œé€šè¿‡è¿™äº›æ¥å£å¯ä»¥å¤„ç†å¤§é‡çš„å¹¶å‘
    - å‡ ä¹æ¯ä¸€ä¸ª API éƒ½æ˜¯æ”¯æŒå›è°ƒå‡½æ•°
    - æ‰€æœ‰çš„äº‹ä»¶æœºåˆ¶éƒ½æ˜¯ç”¨è®¾è®¡æ¨¡å¼ä¸­è§‚å¯Ÿè€…æ¨¡å¼å®ç°:å•çº¿ç¨‹ç±»ä¼¼è¿›å…¥ä¸€ä¸ªwhile(true)çš„äº‹ä»¶å¾ªç¯ï¼Œç›´åˆ°æ²¡æœ‰äº‹ä»¶è§‚å¯Ÿè€…é€€å‡ºï¼Œæ¯ä¸ªå¼‚æ­¥äº‹ä»¶éƒ½ç”Ÿæˆä¸€ä¸ªäº‹ä»¶è§‚å¯Ÿè€…ï¼Œå¦‚æœæœ‰äº‹ä»¶å‘ç”Ÿå°±è°ƒç”¨è¯¥å›è°ƒå‡½æ•°
* åœºæ™¯
    - å‰ç«¯å®è·µï¼Œè„šæ‰‹æ¶ï¼Œå·¥ç¨‹åŒ–ï¼Œå¿«é€Ÿå¼€å‘
    - API Proxy ä¸­é—´å±‚å®è·µï¼Œé¡µé¢å³æœåŠ¡æ¦‚å¿µ
    - é¢å‘ä¼ä¸šå¼€å‘çš„ Web æ¡†æ¶
    - Node æœ€æ–°æŠ€æœ¯ä¸æ€§èƒ½è°ƒä¼˜

## [å®‰è£…](https://github.com/nodesource/distributions)

* [tj/n](https://github.com/tj/n):Node version management
* [creationix/nvm](https://github.com/creationix/nvm):Node Version Manager - Simple bash script to manage multiple active node.js versions
* [nodemon](https://nodemon.io/):nodemon reload, automatically.

```sh
# ubuntu
wget https://nodejs.org/dist/v8.11.1/node-v8.11.1.tar.gz
tar zxvf node-v8.11.1.tar.gz
cd node-v8.11.1
./configure
make && make install

# centos
wget https://nodejs.org/dist/v4.2.3/node-v4.2.3-linux-x64.tar.gz
mkdir node
tar xvf node-v*.tar.gz --strip-components=1 -C ./node
rm -rf node-v*
mkdir node/etc
echo 'prefix=/usr/local' > node/etc/npmrc
sudo mv node /opt/
sudo chown -R root: /opt/node
sudo ln -s /opt/node/bin/node /usr/local/bin/node
sudo ln -s /opt/node/bin/npm /usr/local/bin/npm
sudo visudo
Defaults    secure_path = /sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin

# install compiled package
VERSION=v10.15.0
DISTRO=linux-x64
sudo mkdir -p /usr/local/lib/nodejs
sudo tar -xJvf node-$VERSION-$DISTRO.tar.xz -C /usr/local/lib/nodejs
Set the environment variable ~/.profile, add below to the end
# Nodejs
VERSION=v10.15.0
DISTRO=linux-x64
export PATH=/usr/local/lib/nodejs/node-$VERSION-$DISTRO/bin:$PATH

sudo ln -s /usr/local/lib/nodejs/node-$VERSION-$DISTRO/bin/node /usr/bin/node
sudo ln -s /usr/local/lib/nodejs/node-$VERSION-$DISTRO/bin/npm /usr/bin/npm
sudo ln -s /usr/local/lib/nodejs/node-$VERSION-$DISTRO/bin/npx /usr/bin/npx

# Error: EACCES: permission denied, access '/usr/local/lib/node_modules' react
sudo chown -R henry:henry /usr/local/lib/nodejs/node-v12.16.1-linux-x64/lib/node_modules

## using PPA
curl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -
sudo apt-get install -y nodejs

nodejs -v
npm -v

# Mac
brew install node
node -v

## nvm node verison management
brew install nvm
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh)"

nvm install 4.4.5
nvm use 4.4.5
command -v nvm          # check the nvm use message
nvm install node        # install most recent Node stable version
nvm ls                  # list installed Node version
nvm use node            # use stable as current version
nvm ls-remote           # list all the Node versions you can install
nvm alias default node # set the installed stable version as the default Node
```

### [npm node package manager](https://github.com/npm/npm)

a package manager for javascript <http://www.npmjs.com/>

* Nodeçš„åŒ…æè¿°æ–‡ä»¶æ˜¯ä¸€ä¸ªJSONæ–‡ä»¶ï¼Œç”¨äºæè¿°éä»£ç ç›¸å…³çš„ä¿¡æ¯ã€‚è€ŒNPMåˆ™æ˜¯ä¸€ä¸ªæ ¹æ®åŒ…è§„èŒƒæ¥æä¾›NodeæœåŠ¡çš„NodeåŒ…ç®¡ç†å™¨ã€‚è§£å†³äº†ä¾èµ–åŒ…å®‰è£…çš„é—®é¢˜ï¼Œå´é¢ä¸´ç€ä¸¤ä¸ªæ–°çš„é—®é¢˜ï¼š
    - å®‰è£…çš„æ—¶å€™æ— æ³•ä¿è¯é€Ÿåº¦å’Œä¸€è‡´æ€§
    - å®‰å…¨é—®é¢˜ï¼Œå› ä¸ºNPMå®‰è£…æ—¶å…è®¸è¿è¡Œä»£ç 
* è‡ªå·±å¼€å‘çš„æ¨¡å—æ‰“åŒ…åæ”¾åˆ°npmå®˜ç½‘ä¸Šï¼Œå¦‚æœè¦ä½¿ç”¨ï¼Œç›´æ¥é€šè¿‡npmå®‰è£…å°±å¯ä»¥ç›´æ¥ç”¨ï¼Œä¸ç”¨ç®¡ä»£ç å­˜åœ¨å“ªï¼Œåº”è¯¥ä»å“ªä¸‹è½½
    - æ”¯æŒä¸ºç‰ˆæœ¬æ‰“ä¸Šæ ‡ç­¾ï¼Œè¿™å«åšå‘å¸ƒæ ‡ç­¾ï¼ˆdist-tagï¼‰ã€‚å¦‚æœä¸æŒ‡å®šå‘å¸ƒæ ‡ç­¾ï¼Œé»˜è®¤å°±æ˜¯lates
* npmå¯ä»¥æ ¹æ®ä¾èµ–å…³ç³»ï¼ŒæŠŠæ‰€æœ‰ä¾èµ–çš„åŒ…éƒ½ä¸‹è½½ä¸‹æ¥å¹¶ç®¡ç†èµ·æ¥
* [pnpm](https://github.com/pnpm/pnpm):packagerocket Fast, disk space efficient package manager https://pnpm.js.org
* Packages
    - [rlidwka/sinopia](https://github.com/rlidwka/sinopia):Private npm repository server
    - [request/request](https://github.com/request/request):ğŸŠğŸ¾ Simplified HTTP request client.
    - [ksky521/nodeppt](https://github.com/ksky521/nodePPT):This is probably the best web presentation tool so far! http://js8.in/nodeppt
    - [](https://github.com/lerna/lerna):ğŸ‰ A tool for managing JavaScript projects with multiple packages.https://lerna.js.org/
* é»˜è®¤æƒ…å†µä¸‹ï¼Œnpm å…¨å±€æ¨¡å—éƒ½å®‰è£…åœ¨ç³»ç»Ÿç›®å½•ï¼ˆæ¯”å¦‚/usr/local/lib/ï¼‰ï¼Œæ™®é€šç”¨æˆ·æ²¡æœ‰å†™å…¥æƒé™ï¼Œéœ€è¦ç”¨åˆ°sudoå‘½ä»¤
    - åœ¨ä¸»ç›®å½•ä¸‹æ–°å»ºé…ç½®æ–‡ä»¶.npmrcï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­å°†prefixå˜é‡å®šä¹‰åˆ°ä¸€ä¸ªä½ çš„ä¸ªäººç›®å½•ä¸‹é¢ï¼ˆå‡å®šè¯¥ç›®å½•æ˜¯~/my-npm-modulesï¼‰ `prefix = /home/yourUsername/my-npm-modules`
    - å…¨å±€å®‰è£…çš„æ¨¡å—éƒ½ä¼šå®‰è£…åœ¨è¿™ä¸ªå­ç›®å½•ä¸­ï¼Œnpmä¹Ÿä¼šåˆ°~/my-npm-modules/binç›®å½•å»å¯»æ‰¾å‘½ä»¤
    - å°†è¿™ä¸ªè·¯å¾„åœ¨.bash_profileæ–‡ä»¶ï¼ˆæˆ–.bashrcæ–‡ä»¶ï¼‰ä¸­åŠ å…¥PATHå˜é‡
* é…ç½®æ–‡ä»¶ `package.json`
    - fileså­—æ®µæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢æŒ‡å®šäº†ä¸€ç»„æ–‡ä»¶ã€‚å½“æ¨¡å—å‘å¸ƒåˆ° NPM ç½‘ç«™æ—¶ï¼Œè¿™ç»„æ–‡ä»¶ä¼šè¢«åŒ…æ‹¬ã€‚è¿™ä¸ªå­—æ®µæ˜¯å¯é€‰çš„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šå†…å®¹ï¼Œé‚£ä¹ˆå‘å¸ƒæ—¶æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šè¢«åŒ…æ‹¬åœ¨å†…ã€‚å¦‚æœfileså­—æ®µåŒ…å«ç›®å½•åï¼Œè¯¥ç›®å½•é‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šè¢«è®¡å…¥
        + ä¸ä¼šå‘å¸ƒ.gitignoreé‡Œé¢åˆ—å‡ºçš„æ–‡ä»¶å’Œç›®å½•ã€‚é¡¹ç›®çš„æ ¹ç›®å½•æˆ–å­ç›®å½•é‡Œé¢ï¼Œè¿˜å¯ä»¥æ”¾ç½®ä¸€ä¸ª.npmignoreæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¼šè¦†ç›–.gitignoreï¼Œé‡Œé¢æŒ‡å®šçš„æ–‡ä»¶å’Œç›®å½•ä¸ä¼šè¢«å‘å¸ƒ
        + fileså­—æ®µä¼˜å…ˆçº§æœ€é«˜ï¼›å­ç›®å½•ä¸‹ï¼Œ.npmignoreä¼˜å…ˆã€‚fileså­—æ®µæŒ‡å®šçš„æ–‡ä»¶ï¼Œä¸ä¼šè¢«.npmignoreæˆ–.gitignoreæ’é™¤
    - mainå­—æ®µï¼ŒæŒ‡æ˜æ¨¡å—å…¥å£æ–‡ä»¶
        + browserï¼šæµè§ˆå™¨çš„å…¥å£æ–‡ä»¶
        + moduleï¼šES6 æ¨¡å—æ ¼å¼æˆ– CommonJS æ ¼å¼çš„å…¥å£æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯mainæ–‡ä»¶çš„å¦ä¸€ç§å†™æ³•
        + mainï¼šé€šç”¨çš„å…¥å£æ–‡ä»¶ï¼Œç”¨æ¥è¦†ç›–é»˜è®¤çš„å…¥å£æ–‡ä»¶index.js
    - scripts
        + run
            * ä¼šåˆ›å»ºä¸€ä¸ªShellï¼Œæ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ï¼Œå¹¶ä¸´æ—¶å°†node_modules/.binåŠ å…¥PATHå˜é‡ï¼Œè¿™æ„å‘³ç€æœ¬åœ°æ¨¡å—å¯ä»¥ç›´æ¥è¿è¡Œ,é¿å…äº†å…¨å±€å®‰è£…NPMæ¨¡å—
            * å¦‚æœä¸åŠ ä»»ä½•å‚æ•°ï¼Œç›´æ¥è¿è¡Œï¼Œä¼šåˆ—å‡ºpackage.jsoné‡Œé¢æ‰€æœ‰å¯ä»¥æ‰§è¡Œçš„è„šæœ¬å‘½ä»¤
            * å‚æ•°-sï¼Œè¡¨ç¤ºå…³é—­npmæœ¬èº«çš„è¾“å‡ºï¼Œåªè¾“å‡ºè„šæœ¬äº§ç”Ÿçš„ç»“æœ
        + å†…ç½®äº†ä¸¤ä¸ªå‘½ä»¤ç®€å†™ï¼Œnpm testç­‰åŒäºæ‰§è¡Œnpm run testï¼Œnpm startç­‰åŒäºæ‰§è¡Œnpm run start
        + å¯ä»¥å€Ÿç”¨Linuxç³»ç»Ÿçš„ç®¡é“å‘½ä»¤ï¼Œå°†ä¸¤ä¸ªæ“ä½œè¿åœ¨ä¸€èµ·,æ›´æ–¹ä¾¿çš„å†™æ³•æ˜¯å¼•ç”¨å…¶ä»–npm runå‘½ä»¤,ç”¨&&è¿æ¥
        + ä¹Ÿå¯ä»¥åœ¨node_modules/.binç›®å½•ä¸­ç›´æ¥å†™æˆbashè„šæœ¬
        + æ·»åŠ å‚æ•°:å‚æ•°ä¹‹å‰è¦åŠ ä¸Šä¸¤ä¸ªè¿è¯çº¿
* npm installä¸ä¼šä¿®æ”¹package.json
    - --saveæˆ–-Så‚æ•°ï¼Œå°†æ¨¡å—å†™å…¥package.jsonçš„dependencieså­—æ®µ
    - --save-devæˆ–-Dï¼Œå°†æ¨¡å—åŠ å…¥package.jsonçš„devDependencieså­—æ®µ
    - æ²¡æœ‰æŒ‡å®šç‰ˆæœ¬ï¼Œä¼šåœ¨å®‰è£…çš„ç‰ˆæœ¬å·å‰é¢æ·»åŠ ^,^4.17.4ï¼Œè¡¨ç¤ºå…¼å®¹ 4.17.4 ä»¥åçš„ 4.x ç‰ˆ
    - --save-exactæŒ‡å®šåªå°†å½“å‰ç¡®å®šçš„ç‰ˆæœ¬å·
    - å…¨å±€å®‰è£…:--global|-g,åŠ ä¸Š--saveã€--save-exactã€--save-devéƒ½æ˜¯æ— æ•ˆçš„
* updateå‘½ä»¤å¯ä»¥æ›´æ–°æœ¬åœ°å®‰è£…çš„æ¨¡å—åˆ°æœ€æ–°ç‰ˆæœ¬ï¼ˆç¬¦åˆ semver çš„è®¾ç½®ï¼‰ï¼Œå¦‚æœè¯¥æ¨¡å—æ²¡æœ‰å®‰è£…ï¼Œåˆ™ä¼šå®‰è£…è¯¥æ¨¡å—
    - ä¼šå…ˆåˆ°è¿œç¨‹ä»“åº“æŸ¥è¯¢æœ€æ–°ç‰ˆæœ¬ï¼Œç„¶åæŸ¥è¯¢æœ¬åœ°ç‰ˆæœ¬ã€‚å¦‚æœæœ¬åœ°ç‰ˆæœ¬ä¸å­˜åœ¨ï¼Œæˆ–è€…è¿œç¨‹ç‰ˆæœ¬è¾ƒæ–°ï¼Œå°±ä¼šå®‰è£…æœ€æ–°ç‰ˆæœ¬
    - npm upå’Œnpm upgradeæ˜¯è¯¥å‘½ä»¤çš„ç¼©å†™
    - ä¸ä½¿ç”¨ä»»ä½•å‚æ•°æ—¶ï¼Œå°†æ›´æ–°å½“å‰é¡¹ç›®çš„æ‰€æœ‰dependencieså­—æ®µé‡Œé¢çš„æ¨¡å—
    - --devå‚æ•°ä¼šè¿å¸¦å®‰è£…å’Œæ›´æ–°devDependencieså­—æ®µé‡Œé¢çš„æ¨¡å—
    - ä½¿ç”¨-Sæˆ–--saveå‚æ•°ï¼Œå¯ä»¥åœ¨å®‰è£…çš„åŒæ—¶ï¼Œæ›´æ–°package.jsoné‡Œé¢æ¨¡å—çš„ç‰ˆæœ¬å·
* uninstall ç”¨æ¥å¸è½½å·²å®‰è£…çš„æ¨¡å—

```sh
npm -v|--version
npm config list -l

# é•œåƒåŠ é€Ÿè®¾ç½®
npm config set registry https://registry.npm.taobao.org --global
npm config set registry "http://registry.npmjs.org/"

npm config set registry http://registry.cnpmjs.org # Unexpected end of JSON input while parsing near '...p":false,"directories'
npm root -g

npm config set disturl https://npm.taobao.org/dist --global

npm config set proxy null
npm config set proxy http://server:port
npm config set https-proxy http://server:port
# å°†æŒ‡å®šçš„$dirç›®å½•ï¼Œè®¾ä¸ºæ¨¡å—çš„å…¨å±€å®‰è£…ç›®å½•ã€‚å¦‚æœå½“å‰æœ‰è¿™ä¸ªç›®å½•çš„å†™æƒé™ï¼Œé‚£ä¹ˆè¿è¡Œnpm installçš„æ—¶å€™ï¼Œå°±ä¸å†éœ€è¦sudoå‘½ä»¤æˆæƒäº†
npm config set prefix $dir
# npm install --saveå’Œnpm install --save-devå®‰è£…æ–°æ¨¡å—æ—¶ï¼Œå…è®¸çš„ç‰ˆæœ¬èŒƒå›´ä»å…‹æ‹‰ç¬¦å·ï¼ˆ^ï¼‰æ”¹æˆæ³¢æµªå·ï¼ˆ~ï¼‰ï¼Œå³ä»å…è®¸å°ç‰ˆæœ¬å‡çº§ï¼Œå˜æˆåªå…è®¸è¡¥ä¸åŒ…çš„å‡çº§
npm config set save-prefix '~'

# é•œåƒé…ç½® NPM registry manager
nrm ls
    npm ---- https://registry.npmjs.org/
    cnpm --- http://r.cnpmjs.org/
    taobao - http://registry.npm.taobao.org/
    eu ----- http://registry.npmjs.eu/
    au ----- http://registry.npmjs.org.au/
    sl ----- http://npm.strongloop.com/
    nj ----- https://registry.nodejitsu.com/
    pt ----- http://registry.npmjs.pt/
nrm add <registry> <url> [home]
nrm del <registry>
nrm test
nrm use taobao

# ä»¥æ ‘å‹ç»“æ„åˆ—å‡ºå½“å‰é¡¹ç›®å®‰è£…çš„æ‰€æœ‰æ¨¡å—ï¼Œä»¥åŠå®ƒä»¬ä¾èµ–çš„æ¨¡å—ã€‚
npm list
npm list moduleName               ## List all locally installed packages
npm list -a|g             ## List all globally installed packages
npm list oauth # ind the version of a specific package
npm list --depth=0

npm search express

npm outdated --depth=0             ##For locally installed packages
npm outdated -g --depth=0   ##For  globally installed packages
npm prune

npm init -y|f # åˆ›å»ºä¸€ä¸ªnpmé¡¹ç›®,é…ç½®é¡¹ç›®ä¿¡æ¯ï¼Œåœ¨package.jsonæ–‡ä»¶
# ä¸ºnpm initè®¾ç½®äº†é»˜è®¤å€¼,è‡ªåŠ¨å†™å…¥é¢„è®¾çš„å€¼ã€‚è¿™äº›ä¿¡æ¯ä¼šå­˜æ”¾åœ¨ç”¨æˆ·ä¸»ç›®å½•çš„ ~/.npmrcæ–‡ä»¶
npm set init-author-name 'Your name'
npm set init-author-email 'Your email'
npm set init-author-url 'http://yourdomain.com'
npm set init-license 'MIT'
# npm err! Error: connect ECONNREFUSED 127.0.0.1:8087
npm config set proxy null

npm ls

npm install|uninstall <package> # Install locally
npm install|i -g <package> cnpm --registry=https://registry.npm.taobao.org # Install globally
nmp install -g --registery= https://registery.npm.taobao.org
npm install <package> --save # To install a package and save it in your project's package.json file
npm install npm@latest -g
# æŒ‡å®šç‰ˆæœ¬èŒƒå›´
npm install sax@">=4.15.0 <4.18.0"
# æŒ‡å®šå¤§ç‰ˆæœ¬
npm install lodash@^4.0.0

# æŸ¥çœ‹æ¯ä¸ªæ¨¡å—çš„å…·ä½“ä¿¡æ¯æˆ–å­—æ®µ
npm info|home|repo underscore [description]

sudo npm cache clean -f # æ¸…é™¤node.jsçš„cache

# å®‰è£… n å·¥å…·ï¼Œè¿™ä¸ªå·¥å…·æ˜¯ä¸“é—¨ç”¨æ¥ç®¡ç†node.jsç‰ˆæœ¬
npm install -g n
n stable

npm audit fix

npm update [-g] [<package>]

# Error: EACCES: permission denied, access '/usr/lib/node_modules'
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
# ~/.profile
export PATH=~/.npm-global/bin:$PATH
source ~/.profile

npm install -g pnpm
curl -L https://raw.githubusercontent.com/pnpm/self-installer/master/install.js | node
# No write access to the found global executable directories
pnpm add -g pnpm

npm run dev
npm run watch

# å¼€å‘NPMæ¨¡å—ï¼Œè¾¹å¼€å‘è¾¹è¯•ç”¨ï¼Œrequire('myModule')ä¼šè‡ªåŠ¨åŠ è½½æœ¬æœºå¼€å‘ä¸­çš„æ¨¡å—
# ä½¿ç”¨ä¸€ä¸ªæ¨¡å—æ—¶ï¼Œéœ€è¦å°†å…¶å®‰è£…åˆ°å…¨å±€çš„æˆ–é¡¹ç›®çš„node_modulesç›®å½•ä¹‹ä¸­ã€‚å¯¹äºå¼€å‘ä¸­çš„æ¨¡å—ï¼Œè§£å†³æ–¹æ³•å°±æ˜¯åœ¨å…¨å±€çš„node_modulesç›®å½•ä¹‹ä¸­ï¼Œç”Ÿæˆä¸€ä¸ªç¬¦å·é“¾æ¥ï¼ŒæŒ‡å‘æ¨¡å—çš„æœ¬åœ°ç›®å½•
src/myModule$ npm link
src/myProject$ npm link myModule
```

## scriptsè„šæœ¬å‘½ä»¤æœ€ä½³å®è·µ

* ç¯å¢ƒ
    - å†…ç½®exportå‘½ä»¤ç”¨æ¥åœ¨å½“å‰è¿›ç¨‹ä¸­åˆ›å»ºç¯å¢ƒå˜é‡ï¼ˆè‡ªç„¶ä¹Ÿä¼šè¢«å­è¿›ç¨‹ç»§æ‰¿ï¼‰
    - åœ¨å‘½ä»¤è¡Œä¸­è°ƒç”¨å…¶ä»–ç¨‹åºæ—¶ï¼Œåœ¨å‰é¢æ·»åŠ ç±»ä¼¼ä¸Šé¢çš„å˜é‡èµ‹å€¼ï¼Œåˆ™ä¼šå°†è¯¥å˜é‡æ·»åŠ åˆ°å­è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ä¸­
* å®‰è£…npm-run-allæ¨¡å—:è¿è¡Œå¤šä¸ªscriptsè„šæœ¬å‘½ä»¤
* startè„šæœ¬å‘½ä»¤ï¼Œç”¨äºå¯åŠ¨åº”ç”¨ç¨‹åº
    - å¦‚æœstartè„šæœ¬æ²¡æœ‰é…ç½®ï¼Œnpm startå‘½ä»¤é»˜è®¤æ‰§è¡Œä¸‹é¢çš„è„šæœ¬ï¼Œå‰ææ˜¯æ¨¡å—çš„æ ¹ç›®å½•å­˜åœ¨ä¸€ä¸ªserver.jsæ–‡ä»¶ `node server.js`
* devè„šæœ¬å‘½ä»¤ï¼Œè§„å®šå¼€å‘é˜¶æ®µæ‰€è¦åšçš„å¤„ç†ï¼Œæ¯”å¦‚æ„å»ºç½‘é¡µèµ„æº
* serveè„šæœ¬å‘½ä»¤ç”¨äºå¯åŠ¨æœåŠ¡
    - å¯åŠ¨ä¸€ä¸ªHTTPæœåŠ¡å™¨ï¼Œå±•ç¤ºæŒ‡å®šç›®å½•çš„index.htmlæ–‡ä»¶ï¼Œé€šè¿‡è¯¥æ–‡ä»¶åŠ è½½å„ç§ç½‘ç»œèµ„æºï¼Œè¿™æ˜¯file://åè®®åšä¸åˆ°çš„ã€‚
    - æ·»åŠ è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½ã€‚åªè¦æŒ‡å®šç›®å½•ä¹‹ä¸­ï¼Œæ–‡ä»¶æœ‰ä»»ä½•å˜åŒ–ï¼Œå®ƒå°±ä¼šåˆ·æ–°é¡µé¢ã€‚
    - npm run serveå‘½ä»¤æ‰§è¡Œä»¥åï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
* testè„šæœ¬å‘½ä»¤ç”¨äºæ‰§è¡Œæµ‹è¯•
* prodè„šæœ¬å‘½ä»¤ï¼Œè§„å®šè¿›å…¥ç”Ÿäº§ç¯å¢ƒæ—¶éœ€è¦åšçš„å¤„ç†
* helpè„šæœ¬å‘½ä»¤ç”¨äºå±•ç¤ºå¸®åŠ©ä¿¡æ¯
* docsè„šæœ¬å‘½ä»¤ç”¨äºç”Ÿæˆæ–‡æ¡£
* ä¸ºæ¯æ¡å‘½ä»¤æä¾›äº†pre-å’Œpost-ä¸¤ä¸ªé’©å­ï¼ˆhookï¼‰,æ‰§è¡Œè¿‡ç¨‹å‡ºé”™ï¼Œå°±ä¸ä¼šæ‰§è¡Œæ’åœ¨åé¢çš„è„šæœ¬
    - prepublishï¼šå‘å¸ƒä¸€ä¸ªæ¨¡å—å‰æ‰§è¡Œã€‚
    - postpublishï¼šå‘å¸ƒä¸€ä¸ªæ¨¡å—åæ‰§è¡Œã€‚
    - preinstallï¼šç”¨æˆ·æ‰§è¡Œnpm installå‘½ä»¤æ—¶ï¼Œå…ˆæ‰§è¡Œè¯¥è„šæœ¬ã€‚
    - postinstallï¼šç”¨æˆ·æ‰§è¡Œnpm installå‘½ä»¤æ—¶ï¼Œå®‰è£…ç»“æŸåæ‰§è¡Œè¯¥è„šæœ¬ï¼Œé€šå¸¸ç”¨äºå°†ä¸‹è½½çš„æºç ç¼–è¯‘æˆç”¨æˆ·éœ€è¦çš„æ ¼å¼ï¼Œæ¯”å¦‚æœ‰äº›æ¨¡å—éœ€è¦åœ¨ç”¨æˆ·æœºå™¨ä¸Šè·Ÿæœ¬åœ°çš„C++æ¨¡å—ä¸€èµ·ç¼–è¯‘ã€‚
    - preuninstallï¼šå¸è½½ä¸€ä¸ªæ¨¡å—å‰æ‰§è¡Œã€‚
    - postuninstallï¼šå¸è½½ä¸€ä¸ªæ¨¡å—åæ‰§è¡Œã€‚
    - preversionï¼šæ›´æ”¹æ¨¡å—ç‰ˆæœ¬å‰æ‰§è¡Œã€‚
    - postversionï¼šæ›´æ”¹æ¨¡å—ç‰ˆæœ¬åæ‰§è¡Œã€‚
    - pretestï¼šè¿è¡Œnpm testå‘½ä»¤å‰æ‰§è¡Œã€‚
    - posttestï¼šè¿è¡Œnpm testå‘½ä»¤åæ‰§è¡Œã€‚
    - prestopï¼šè¿è¡Œnpm stopå‘½ä»¤å‰æ‰§è¡Œã€‚
    - poststopï¼šè¿è¡Œnpm stopå‘½ä»¤åæ‰§è¡Œã€‚
    - prestartï¼šè¿è¡Œnpm startå‘½ä»¤å‰æ‰§è¡Œã€‚
    - poststartï¼šè¿è¡Œnpm startå‘½ä»¤åæ‰§è¡Œã€‚
    - prerestartï¼šè¿è¡Œnpm restartå‘½ä»¤å‰æ‰§è¡Œã€‚
    - postrestartï¼šè¿è¡Œnpm restartå‘½ä»¤åæ‰§è¡Œã€‚
* å¯ä»¥ä½¿ç”¨ä¸€äº›å†…éƒ¨å˜é‡ï¼Œä¸»è¦æ˜¯package.jsonçš„å„ç§å­—æ®µ `$npm_package_version`

```sh
npm install npm-run-all --save-dev

# ç»§å‘æ‰§è¡Œ
npm-run-all build:html build:js
# ç­‰åŒäº
npm run build:html && npm run build:js

# å¹¶è¡Œæ‰§è¡Œ
npm-run-all --parallel watch:html watch:js
# ç­‰åŒäº
npm run watch:html & npm run watch:js

# æ··åˆæ‰§è¡Œ
npm-run-all clean lint --parallel watch:html watch:js
# ç­‰åŒäº
npm-run-all clean lint
npm-run-all --parallel watch:html watch:js

# é€šé…ç¬¦
npm-run-all --parallel watch:*
```

```json
{
    "start": "npm-run-all --parallel dev serve",
    "dev": "npm-run-all dev:*",
    "serve": "live-server dist/ --port=9090",
    "test": "npm-run-all test:*",
    "test:lint": "sass-lint --verbose --config .sass-lint.yml src/sass/*",
    "prod": "npm-run-all prod:*",
    "prod:sass": "node-sass --output-style compressed src/sass/base.scss src/css/prod/hoodie.min.css",
    "prod:autoprefix": "postcss --use autoprefixer --autoprefixer.browsers "> 5%" --output src/css/prod/hoodie.min.css src/css/prod/hoodie.min.css",
    "help": "markdown-chalk --input DEVELOPMENT.md",
    "docs": "kss-node --source src/sass --homepage ../../styleguide.md"
}
```

## npx

* è§£å†³çš„ä¸»è¦é—®é¢˜ï¼Œå°±æ˜¯è°ƒç”¨é¡¹ç›®å†…éƒ¨å®‰è£…çš„æ¨¡å—
* è¿è¡Œçš„æ—¶å€™ï¼Œä¼šåˆ°node_modules/.binè·¯å¾„å’Œç¯å¢ƒå˜é‡$PATHé‡Œé¢ï¼Œæ£€æŸ¥å‘½ä»¤æ˜¯å¦å­˜åœ¨ã€‚ç”±äº npx ä¼šæ£€æŸ¥ç¯å¢ƒå˜é‡$PATHï¼Œæ‰€ä»¥ç³»ç»Ÿå‘½ä»¤ä¹Ÿå¯ä»¥è°ƒç”¨
    - Bash å†…ç½®çš„å‘½ä»¤ä¸åœ¨$PATHé‡Œé¢ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨
* é¿å…å…¨å±€å®‰è£…çš„æ¨¡å—
* åé¢æ¨¡å—æ— æ³•åœ¨æœ¬åœ°å‘ç°ï¼Œå°±ä¼šä¸‹è½½åŒåæ¨¡å—
* --no-install å¦‚æœæœ¬åœ°ä¸å­˜åœ¨è¯¥æ¨¡å—ï¼Œå°±ä¼šæŠ¥é”™
* --ignore-existing å¿½ç•¥æœ¬åœ°çš„åŒåæ¨¡å—ï¼Œå¼ºåˆ¶å®‰è£…ä½¿ç”¨è¿œç¨‹æ¨¡å—
* -på‚æ•°ç”¨äºæŒ‡å®š npx æ‰€è¦å®‰è£…çš„æ¨¡å—
* -cå‚æ•°å¯ä»¥å°†æ‰€æœ‰å‘½ä»¤éƒ½ç”¨ npx è§£é‡Š

```sh
npx mocha --version

# npx å°†create-react-appä¸‹è½½åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œä½¿ç”¨ä»¥åå†åˆ é™¤
npx create-react-app my-react-app

# å®šæŸä¸ªç‰ˆæœ¬çš„ Node è¿è¡Œè„šæœ¬
npx node@0.12.8 -v

npx -p lolcatjs -p cowsay -c 'cowsay hello | lolcatjs'

# æ‰§è¡Œ Gist ä»£ç 
npx https://gist.github.com/zkat/4bc19503fe9e9309e2bfaa2c58074d32

# æ‰§è¡Œä»“åº“ä»£ç 
npx github:piuccio/cowsay hello
```

## [yarn](https://github.com/yarnpkg/yarn)

Fast, reliable, and secure dependency management. <https://yarnpkg.com>

Facebookæä¾›çš„æ›¿ä»£npmçš„å·¥å…·ï¼Œå¯ä»¥åŠ é€Ÿnodeæ¨¡å—çš„ä¸‹è½½ ä¸react-native-cliï¼ˆReact Nativeçš„å‘½ä»¤è¡Œå·¥å…·ç”¨äºæ‰§è¡Œåˆ›å»ºã€åˆå§‹åŒ–ã€æ›´æ–°é¡¹ç›®ã€è¿è¡Œæ‰“åŒ…æœåŠ¡ï¼ˆpackagerï¼‰ç­‰ä»»åŠ¡ï¼‰ã€‚å¿«é€Ÿ(ç¼“å­˜å®ƒä¸‹è½½çš„æ¯ä¸ªåŒ…ï¼Œæ‰€ä»¥ä¸éœ€è¦é‡å¤ä¸‹è½½)ã€å¯é (æ¯ä¸ªå®‰è£…åŒ…çš„ä»£ç æ‰§è¡Œå‰ä½¿ç”¨æ ¡éªŒç éªŒè¯åŒ…çš„å®Œæ•´æ€§)ã€å®‰å…¨çš„ä¾èµ–ç®¡ç†(ç”¨ä¸€ä¸ªæ ¼å¼è¯¦å°½ä½†ç®€æ´çš„ lockfile å’Œä¸€ä¸ªç²¾ç¡®çš„ç®—æ³•æ¥å®‰è£…)

* ç›¸æ¯” npmï¼Œå®ƒæœ‰ä¸¤ä¸ªæ˜¾è‘—ç‰¹ç‚¹
    - å®‰è£…é€Ÿåº¦è¾ƒå¿«:Yarn é‡‡ç”¨å¹³è¡Œå®‰è£…æ¨¡å¼ï¼Œè€Œ npm é‡‡ç”¨çš„æ˜¯çº¿æ€§æ¨¡å¼ï¼Œåªæœ‰å‰ä¸€ä¸ªæ¨¡å—å®‰è£…å®Œï¼Œæ‰ä¼šå®‰è£…ä¸‹ä¸€ä¸ª
    - é»˜è®¤å¼€å¯â€œç‰ˆæœ¬é”å®šâ€åŠŸèƒ½:æ‰€æœ‰ä¾èµ–çš„ç‰ˆæœ¬åœ¨ä¸åŒæœºå™¨éƒ½ä¿æŒç›¸åŒ
* å¼€å§‹æ–°é¡¹ç›®:yarn init
* yarn.lockæ˜¯ä¸€ä¸ªé”æ–‡ä»¶ï¼Œç”¨æ¥è®°å½•å½“å‰é¡¹ç›®çš„ä¾èµ–æ¨¡å—çš„ç²¾ç¡®ç‰ˆæœ¬ã€‚åªè¦é¡¹ç›®çš„æ ¹ç›®å½•æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œä¸‹æ¬¡å®‰è£…ä¾èµ–çš„æ—¶å€™ï¼Œæ€»æ˜¯ä¼šå®‰è£…ä¸€æ¨¡ä¸€æ ·çš„node_modulesç›®å½•ï¼Œè¿™ä¸ªç‰¹ç‚¹ç§°ä¸ºå†³å®šæ€§ï¼ˆdeterminismï¼‰
* å…¨å±€å‚æ•° global:addã€binã€lså’Œremoveå››ä¸ªå‘½ä»¤ï¼Œæ”¯æŒ
* yarn install å‘½ä»¤ç”¨äºå®‰è£…ä¸€ä¸ªæ¨¡å—ã€‚å¦‚æœyarn.lockæ–‡ä»¶å­˜åœ¨ï¼Œä¼šä¼˜å…ˆè¯»å–è¯¥æ–‡ä»¶ï¼ŒæŒ‰ç…§è¯¥æ–‡ä»¶æŒ‡å®šçš„ç‰ˆæœ¬å®‰è£…
    - --productionå‚æ•°æˆ–ç¯å¢ƒå˜é‡NODE_ENVç­‰äºproductionï¼Œå°†ä¸ä¼šå®‰è£…devDependencieså­—æ®µæŒ‡å®šçš„æ¨¡å—
    - -no-lockfileå‚æ•°ï¼Œyarn installå°†ä¸ä¼šè¯»å–æˆ–ç”Ÿæˆyarn.lock
    - --flat å®‰è£…ä¸€ä¸ªåŒ…çš„å•ä¸€ç‰ˆæœ¬
    - --force å¼ºåˆ¶é‡æ–°ä¸‹è½½æ‰€æœ‰åŒ…
* æ·»åŠ ä¾èµ–åŒ…: yarn add [package]@[version|tag] 1.2.3 ^1.0.0
    - æ–°å¢å®‰è£…ä¸€ä¸ªæ¨¡å—ã€‚é»˜è®¤ä¼šå°†è¯¥æ¨¡å—åŠ å…¥package.jsonæ–‡ä»¶çš„dependencieså­—æ®µ
    - --devå‚æ•° åŠ å…¥devDependencieså­—æ®µ
    - --peer  peerDependencies
* yarn licenses
    - lså‘½ä»¤åˆ—å‡ºæ‰€æœ‰æ¨¡å—çš„è®¸å¯è¯
    - generate-disclaimerå‘½ä»¤å°†æ‰€æœ‰æ¨¡å—çš„è®¸å¯è¯çš„æ¡æ¬¾ï¼Œå…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥
* yarn why åˆ—å‡ºä¹‹æ‰€ä»¥å®‰è£…æŸä¸ªæ¨¡å—çš„åŸå› 
* yarn generate-lock-entryå‘½ä»¤ä¾ç…§package.jsonæ–‡ä»¶ï¼Œç”Ÿæˆyarn.lockæ–‡ä»¶
* å‡çº§ä¾èµ–åŒ…: yarn upgrade [package]@[version|tag]
    - ä¼šæŒ‰ç…§package.jsoné‡Œé¢æŒ‡å®šçš„ç‰ˆæœ¬èŒƒå›´ï¼Œæ›´æ–°ä¾èµ–ç‰ˆæœ¬ï¼Œé‡æ–°ç”Ÿæˆyarn.lock
* ç§»é™¤ä¾èµ–åŒ…: yarn remove [package]
* [æ–‡æ¡£](https://yarnpkg.com/zh-Hans/) https://yarn.bootcss.com/docs/

```sh
curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
sudo apt-get update && sudo apt-get install yarn

npm install -g yarn
brew install yarn

### é•œåƒæºé…ç½®
yarn config set registry https://registry.npm.taobao.org --global
yarn config set disturl https://npm.taobao.org/dist --global

## The engine "node" is incompatible with this module. Expected version ">=4 <=9".
yarn config set ignore-engines true
## Failed to fetch https://dl.yarnpkg.com/debian/dists/stable/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E074D16EB6FF4DE3
curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
## Yarn, node-gyp rebuild compile error, node_modules/fsevents: Command failed
sudo rm -r node_modules && rm yarn.lock && yarn install
```

## å¼€å‘æ¨¡å—

* å‘npmjs.comç”³è¯·ç”¨æˆ·åï¼Œç™»å½•

```sh
npm adduser
npm login
npm publish
```

## åŸºç¡€

* åœ¨Node.jsç¯å¢ƒä¸­æœ‰å”¯ä¸€çš„å…¨å±€å¯¹è±¡ï¼Œä½†ä¸å«windowï¼Œè€Œå«global
    - åœ¨ REPL ç¯å¢ƒï¼Œé¡¶å±‚çš„thiså°±æŒ‡å‘global
    - é¡¶å±‚å˜é‡æ˜¯globalå’Œthisçš„å±æ€§
    - global æœ€æ ¹æœ¬çš„ä½œç”¨æ˜¯ä½œä¸ºå…¨å±€å˜é‡çš„å®¿ä¸»
* å…¨å±€å˜é‡:å…¨å±€å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½å¯ä»¥åœ¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹è®¿é—®
    - __filename è¡¨ç¤ºå½“å‰æ­£åœ¨æ‰§è¡Œçš„è„šæœ¬çš„æ–‡ä»¶åã€‚å°†è¾“å‡ºæ–‡ä»¶æ‰€åœ¨ä½ç½®çš„ç»å¯¹è·¯å¾„ï¼Œä¸”å’Œå‘½ä»¤è¡Œå‚æ•°æ‰€æŒ‡å®šçš„æ–‡ä»¶åä¸ä¸€å®šç›¸åŒ
    - __dirname è¡¨ç¤ºå½“å‰æ‰§è¡Œè„šæœ¬æ‰€åœ¨çš„ç›®å½•
    - setTimeout(cb, ms) å…¨å±€å‡½æ•°åœ¨æŒ‡å®šçš„æ¯«ç§’(ms)æ•°åæ‰§è¡ŒæŒ‡å®šå‡½æ•°(cb)ã€‚åªæ‰§è¡Œä¸€æ¬¡æŒ‡å®šå‡½æ•°ã€‚è¿”å›ä¸€ä¸ªä»£è¡¨å®šæ—¶å™¨çš„å¥æŸ„å€¼
    - clearTimeout( t ) å…¨å±€å‡½æ•°ç”¨äºåœæ­¢ä¸€ä¸ªä¹‹å‰é€šè¿‡ setTimeout() åˆ›å»ºçš„å®šæ—¶å™¨ã€‚ å‚æ•° t æ˜¯é€šè¿‡ setTimeout() å‡½æ•°åˆ›å»ºçš„å®šæ—¶å™¨
    - setInterval(cb, ms) å…¨å±€å‡½æ•°åœ¨æŒ‡å®šçš„æ¯«ç§’(ms)æ•°åæ‰§è¡ŒæŒ‡å®šå‡½æ•°(cb)ã€‚è¿”å›ä¸€ä¸ªä»£è¡¨å®šæ—¶å™¨çš„å¥æŸ„å€¼ã€‚å¯ä»¥ä½¿ç”¨ clearInterval(t) å‡½æ•°æ¥æ¸…é™¤å®šæ—¶å™¨
    - setInterval() æ–¹æ³•ä¼šä¸åœåœ°è°ƒç”¨å‡½æ•°ï¼Œç›´åˆ° clearInterval() è¢«è°ƒç”¨æˆ–çª—å£è¢«å…³é—­
* æ¨¡å—ç¯å¢ƒ
    - é¡¶å±‚çš„thisæŒ‡å‘å½“å‰æ¨¡å—ï¼Œå³module.exportsï¼Œé»˜è®¤æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡,ä¸globalä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡
    - æ¨¡å—å†…éƒ¨çš„é¡¶å±‚å˜é‡ï¼Œä¸ä¼šè‡ªåŠ¨æˆä¸ºglobalå’Œthisçš„å±æ€§
* å£°æ˜å˜é‡çš„æ—¶å€™ï¼Œä¸ä½¿ç”¨varå‘½ä»¤ï¼Œè€Œæ˜¯ç›´æ¥èµ‹å€¼ï¼Œé‚£ä¹ˆè¯¥å˜é‡åœ¨ REPL ç¯å¢ƒä¸‹å°†æˆä¸ºglobalå’Œthisçš„å±æ€§ï¼Œåœ¨æ¨¡å—ç¯å¢ƒå°†åªæˆä¸º global çš„å±æ€§
* å‡½æ•°å†…éƒ¨çš„ this
    - å‡½æ•°å†…éƒ¨çš„thisæŒ‡å‘globalï¼ŒREPL ç¯å¢ƒå’Œæ¨¡å—ç¯å¢ƒéƒ½æ˜¯å¦‚æ­¤
    - ä¸¥æ ¼æ¨¡å¼ï¼Œå‡½æ•°å†…éƒ¨çš„thisè¿”å›undefined

## å›è°ƒå‡½æ•°

* å¼‚æ­¥ç¼–ç¨‹çš„ç›´æ¥ä½“ç°
* æ·»åŠ ç›‘å¬ï¼šæ‰§è¡Œå¼‚æ­¥æ“ä½œå‡½æ•°å°†å›è°ƒå‡½æ•°ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°
* ç›‘å¬ï¼šå›è°ƒå‡½æ•°æ¥æ”¶é”™è¯¯å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°
* è§¦å‘ï¼šäº‹ä»¶å‚æ•°ä½œä¸ºå›è°ƒå‡½æ•°å‚æ•°ä¼ é€’

## REPL read-eval-print-loop

* å‘½ä»¤è¡Œä¸‹ Node å¼•æ“çš„ä¸€ä¸ªäº’åŠ¨å¼å¯¹è¯ç¯å¢ƒã€‚åœ¨å…¶ä¸­è¾“å…¥å‘½ä»¤ï¼Œå°±å¯ä»¥ç«‹åˆ»çœ‹åˆ°ç»“æœ
    - read è¡¨ç¤ºè¯»å–ç”¨æˆ·çš„è¾“å…¥
    - eval è¡¨ç¤ºæ‰§è¡Œ
    - print è¡¨ç¤ºè¾“å‡ºè¿è¡Œçš„ç»“æœ
    - loop è¡¨ç¤ºé‡å¤æ‰§è¡Œè¿™ä¸ªè¿‡ç¨‹
* é€€å‡º:Ctrl + d æˆ–è€…è¿ç»­ä¸¤æ¬¡æŒ‰ä¸‹ Ctrl + c
* ä¸ Node è„šæœ¬çš„æ‰§è¡Œç¯å¢ƒ
    - REPL ç¯å¢ƒä¸æ˜¯é€šè¿‡è„šæœ¬è§¦å‘çš„ï¼Œæ‰€ä»¥æ²¡æœ‰__dirnameå’Œ__filenameè¿™ä¸¤ä¸ªå†…ç½®å˜é‡
    - ä¼šè‡ªåŠ¨åŠ è½½ Node çš„æ ¸å¿ƒæ¨¡å—ï¼Œæ¯”å¦‚ fsã€httpã€osã€pathç­‰ï¼Œä¸å¿…requireå°±å¯ä»¥ç›´æ¥ä½¿ç”¨
* æŒ‰ä¸‹å›è½¦é”®ï¼Œå°±ä¼šæäº¤å¹¶æ‰§è¡Œå½“å‰è¾“å…¥ã€‚å¯¹è¾“å…¥å¤šè¡Œçš„ä»£ç éå¸¸ä¸æ–¹ä¾¿ï¼Œæœ‰ä¸¤ä¸ªåŠæ³•å¯ä»¥è¾“å…¥å¤šè¡Œä»£ç 
    - æŒ‰ Shift + å›è½¦é”®
    - ä½¿ç”¨.editorå‘½ä»¤ï¼Œé”®å…¥ç¼–è¾‘æ¨¡å¼
* -eå‚æ•°ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨ REPL ç¯å¢ƒè¿è¡Œä»£ç 
* `_` ä¸Šä¸€ä¸ªè¡¨è¾¾å¼å€¼å°±å­˜æ”¾åœ¨è¿™ä¸ªå˜é‡ä¹‹ä¸­
    - å…è®¸ç”¨æˆ·èµ‹å€¼
* ç‰¹æ®Šå‘½ä»¤
    - tab åˆ—å‡ºå½“å‰å‘½ä»¤
    - .break Shift + å›è½¦è¿›å…¥å¤šè¡Œæ–‡æœ¬è¾“å…¥çš„è¿‡ç¨‹ä¸­ï¼Œè¾“å…¥.breakå‘½ä»¤ä¼šå–æ¶ˆæœ¬æ¬¡è¾“å…¥ï¼Œç›¸å½“äºæŒ‰ä¸‹ Ctrl + c
    - .clearï¼šé‡ç½® REPL ä¸Šä¸‹æ–‡ä¸ºç©ºï¼Œå¹¶æ¸…é™¤å½“å‰è¾“å…¥çš„å¤šè¡Œæ–‡æœ¬
    - .exitï¼šå…³é—­å½“å‰çš„ I/O è¯»å†™ï¼Œé€€å‡º REPL ç¯å¢ƒ
    - .helpï¼šæ˜¾ç¤º REPL ç¯å¢ƒçš„ç‰¹æ®Šå‘½ä»¤åˆ—è¡¨
    - .saveï¼šå°†å½“å‰çš„ REPL å¯¹æ¢ä¿å­˜æˆä¸€ä¸ªæ–‡ä»¶ï¼Œæ¯”å¦‚.save ./file/to/save.js
    - .loadï¼šåŠ è½½ä¸€ä¸ªæ–‡ä»¶è¿›å…¥å½“å‰çš„ REPL å¯¹è¯ï¼Œæ¯”å¦‚.load ./file/to/load.js
* å¯ä»¥åœ¨è„šæœ¬ä¸­å”¤èµ· REPL ç¯å¢ƒ

## events

* æä¾›äº‹ä»¶ï¼Œå½¢æˆæ¨¡å—ä¹‹é—´çš„é€šä¿¡æœºåˆ¶ï¼Œæ¶ˆé™¤æ¨¡å—ä¸æ¨¡å—çš„å¼ºè€¦åˆ
    - åŒä¸€ä¸ªäº‹ä»¶æœ€å¤šå¯ä»¥æŒ‡å®š10ä¸ªå›è°ƒå‡½æ•°
    - äº‹ä»¶æ¥å£å¯ä»¥éƒ¨ç½²åœ¨ä»»æ„å¯¹è±¡ä¸Šï¼Œä½¿å¾—è¿™äº›å¯¹è±¡ä¹Ÿèƒ½è®¢é˜…å’Œå‘å¸ƒæ¶ˆæ¯
* é»˜è®¤æ”¯æŒä¸¤ä¸ªäº‹ä»¶
    - newListeneräº‹ä»¶ï¼šæ·»åŠ æ–°çš„å›è°ƒå‡½æ•°æ—¶è§¦å‘ã€‚
    - removeListeneräº‹ä»¶ï¼šç§»é™¤å›è°ƒæ—¶è§¦å‘
* æ–¹æ³•
    - listenersæ–¹æ³•æ¥å—ä¸€ä¸ªäº‹ä»¶åç§°ä½œä¸ºå‚æ•°ï¼Œè¿”å›è¯¥äº‹ä»¶æ‰€æœ‰å›è°ƒå‡½æ•°ç»„æˆçš„æ•°ç»„
    - eventsæ¨¡å—æä¾›ä¸€ä¸ªæ„é€ å‡½æ•°EventEmitter()ï¼Œå¯ä»¥ç”¨æ¥ç”Ÿæˆäº‹ä»¶å‘ç”Ÿå™¨çš„å®ä¾‹
    - emit()æ–¹æ³•ç”¨äºè§¦å‘äº‹ä»¶
        + ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è§¦å‘äº‹ä»¶
        + ç¬¬äºŒä¸ªå‚æ•°æ˜¯äº‹ä»¶ä¼ é€’çš„æ•°æ®
    - emit()æ–¹æ³•å’Œon()æ–¹æ³•éƒ½æ˜¯åŒæ­¥
    - emitter.on(name, f) å¯¹äº‹ä»¶nameæŒ‡å®šç›‘å¬å‡½æ•°f
    - emitter.addListener(name, f) addListeneræ˜¯onæ–¹æ³•çš„åˆ«å
    - emitter.once(name, f) ä¸onæ–¹æ³•ç±»ä¼¼ï¼Œä½†æ˜¯ç›‘å¬å‡½æ•°fæ˜¯ä¸€æ¬¡æ€§çš„ï¼Œä½¿ç”¨åè‡ªåŠ¨ç§»é™¤
    - emitter.listeners(name) è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯äº‹ä»¶nameæ‰€æœ‰ç›‘å¬å‡½æ•°
    - emitter.removeListener(name, f) ç§»é™¤äº‹ä»¶nameçš„ç›‘å¬å‡½æ•°f
        + ä¸èƒ½ç”¨äºç§»é™¤åŒ¿åå‡½æ•°
        + å¯ä»¥æ¨¡æ‹Ÿonceæ–¹æ³•
    - emitter.removeAllListeners(name) ç§»é™¤äº‹ä»¶nameçš„æ‰€æœ‰ç›‘å¬å‡½æ•°
* å®šä¹‰äº†ä¸€ä¸ªç‰¹æ®Šäº‹ä»¶ errorï¼ŒåŒ…å«äº†é”™è¯¯çš„è¯­ä¹‰ï¼Œé‡åˆ°å¼‚å¸¸çš„æ—¶å€™é€šå¸¸ä¼šè§¦å‘ error äº‹ä»¶
* ä¸ä¼šç›´æ¥ä½¿ç”¨ EventEmitterï¼Œè€Œæ˜¯åœ¨å¯¹è±¡ä¸­ç»§æ‰¿å®ƒã€‚åŒ…æ‹¬ fsã€netã€ http åœ¨å†…çš„ï¼Œåªè¦æ˜¯æ”¯æŒäº‹ä»¶å“åº”çš„æ ¸å¿ƒæ¨¡å—éƒ½æ˜¯ EventEmitter çš„å­ç±»

## process

* æ˜¯globalçš„ä¸€ä¸ªå±æ€§
* Node.jsæä¾›çš„ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œè¡¨ç¤ºå½“å‰è¿è¡Œ Node è¿›ç¨‹ã€‚ä¸ç”¨å¼•å…¥æ¨¡å—ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨
    - æä¾›äº†ä¸€ä¸ªä¸æ“ä½œç³»ç»Ÿçš„ç®€å•æ¥å£ã€‚é€šå¸¸åœ¨ä½ å†™æœ¬åœ°å‘½ä»¤è¡Œç¨‹åºçš„æ—¶å€™æœ‰ç”¨
* Node.jsä¸æ–­æ‰§è¡Œå“åº”äº‹ä»¶çš„JavaScriptå‡½æ•°ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•å“åº”äº‹ä»¶çš„å‡½æ•°å¯ä»¥æ‰§è¡Œæ—¶ï¼ŒNode.jså°±é€€å‡ºäº†ã€‚å¦‚æœæƒ³è¦åœ¨ä¸‹ä¸€æ¬¡äº‹ä»¶å“åº”ä¸­æ‰§è¡Œä»£ç ï¼Œå¯ä»¥è°ƒç”¨process.nextTick()
* äº‹ä»¶
    - exit å½“è¿›ç¨‹å‡†å¤‡é€€å‡ºæ—¶è§¦å‘
    - beforeExit å½“ node æ¸…ç©ºäº‹ä»¶å¾ªç¯ï¼Œå¹¶ä¸”æ²¡æœ‰å…¶ä»–å®‰æ’æ—¶è§¦å‘è¿™ä¸ªäº‹ä»¶ã€‚é€šå¸¸æ¥è¯´ï¼Œå½“æ²¡æœ‰è¿›ç¨‹å®‰æ’æ—¶ node é€€å‡ºï¼Œä½†æ˜¯ 'beforeExit' çš„ç›‘å¬å™¨å¯ä»¥å¼‚æ­¥è°ƒç”¨ï¼Œè¿™æ · node å°±ä¼šç»§ç»­æ‰§è¡Œ
    - uncaughtException å½“ä¸€ä¸ªå¼‚å¸¸å†’æ³¡å›åˆ°äº‹ä»¶å¾ªç¯ï¼Œè§¦å‘è¿™ä¸ªäº‹ä»¶ã€‚å¦‚æœç»™å¼‚å¸¸æ·»åŠ äº†ç›‘è§†å™¨ï¼Œé»˜è®¤çš„æ“ä½œï¼ˆæ‰“å°å †æ ˆè·Ÿè¸ªä¿¡æ¯å¹¶é€€å‡ºï¼‰å°±ä¸ä¼šå‘ç”Ÿ
    - Signal å½“è¿›ç¨‹æ¥æ”¶åˆ°ä¿¡å·æ—¶å°±è§¦å‘
* å±æ€§
    - stdout æ ‡å‡†è¾“å‡ºæµ
    - stderr æ ‡å‡†é”™è¯¯æµ
    - stdin æ ‡å‡†è¾“å…¥æµ
    - argv è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œç”±å‘½ä»¤è¡Œæ‰§è¡Œè„šæœ¬æ—¶çš„å„ä¸ªå‚æ•°ç»„æˆã€‚å®ƒçš„ç¬¬ä¸€ä¸ªæˆå‘˜æ€»æ˜¯nodeï¼Œç¬¬äºŒä¸ªæˆå‘˜æ˜¯è„šæœ¬æ–‡ä»¶åï¼Œå…¶ä½™æˆå‘˜æ˜¯è„šæœ¬æ–‡ä»¶çš„å‚æ•°
    - execPath è¿”å›æ‰§è¡Œå½“å‰è„šæœ¬çš„ Node äºŒè¿›åˆ¶æ–‡ä»¶çš„ç»å¯¹è·¯å¾„
    - execArgv è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‘½ä»¤è¡Œä¸‹æ‰§è¡Œè„šæœ¬æ—¶ï¼Œåœ¨Nodeå¯æ‰§è¡Œæ–‡ä»¶ä¸è„šæœ¬æ–‡ä»¶ä¹‹é—´çš„å‘½ä»¤è¡Œå‚æ•°
    - env. è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œæˆå‘˜ä¸ºå½“å‰ shell ç¯å¢ƒå˜é‡
* æ–¹æ³•
    - abort() å¯¼è‡´ node è§¦å‘ abort äº‹ä»¶ã€‚ä¼šè®© node é€€å‡ºå¹¶ç”Ÿæˆä¸€ä¸ªæ ¸å¿ƒæ–‡ä»¶
    - chdir(directory) æ”¹å˜å½“å‰å·¥ä½œè¿›ç¨‹çš„ç›®å½•ï¼Œå¦‚æœæ“ä½œå¤±è´¥æŠ›å‡ºå¼‚å¸¸
    - cwd() è¿”å›å½“å‰è¿›ç¨‹çš„å·¥ä½œç›®å½•
    - nextTick(callback) ä¸€æ—¦å½“å‰äº‹ä»¶å¾ªç¯ç»“æŸï¼Œè°ƒç”¨å›è°ƒå‡½æ•°
* setImmediate()ä¼šåœ¨ä¸‹ä¸€è½®æ‰§è¡Œå›è°ƒå‡½æ•°
* å®šæ—¶å™¨åœ¨ IO æ“ä½œçš„å›è°ƒå‡½æ•°ä¹‹å‰æ‰§è¡Œ
    - Timer: setTimeoutå’ŒsetIntervalå›è°ƒå‡½æ•°
    - I/O callbacks: å¤„ç†é™¤äº†setTimeoutã€setIntervalã€setImmediateçš„å›è°ƒå‡½æ•°
    - Check: å¤„ç†setImmediate()æŒ‡å®šçš„å›è°ƒå‡½æ•°
    - nextTickQueue: å¤„ç†process.nextTick()çš„å›è°ƒå‡½æ•°ï¼Œä¸æ˜¯ event loop çš„ä¸€éƒ¨åˆ†

## fs

* æ–‡ä»¶ç³»ç»Ÿæ¨¡å—ï¼Œè´Ÿè´£è¯»å†™æ–‡ä»¶
- å¼‚æ­¥è¯»ï¼šä¸ç”¨ç­‰å¾…IOæ“ä½œï¼Œä½†ä»£ç è¾ƒéº»çƒ¦ã€‚å›è°ƒå‡½æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨é”™è¯¯ä¿¡æ¯ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨ç»“æœ
    + å½“è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶æ—¶ï¼Œä¸ä¼ å…¥æ–‡ä»¶ç¼–ç æ—¶ï¼Œå›è°ƒå‡½æ•°çš„dataå‚æ•°å°†è¿”å›ä¸€ä¸ªBufferå¯¹è±¡ã€‚åœ¨Node.jsä¸­ï¼ŒBufferå¯¹è±¡å°±æ˜¯ä¸€ä¸ªåŒ…å«é›¶ä¸ªæˆ–ä»»æ„ä¸ªå­—èŠ‚çš„æ•°ç»„
- åŒæ­¥è¯»ï¼š`var data = getJSONSync('http://example.com/ajax');`åŒæ­¥æ“ä½œçš„å¥½å¤„æ˜¯ä»£ç ç®€å•ï¼Œç¼ºç‚¹æ˜¯ç¨‹åºå°†ç­‰å¾…IOæ“ä½œï¼Œåœ¨ç­‰å¾…æ—¶é—´å†…ï¼Œæ— æ³•å“åº”å…¶å®ƒä»»ä½•äº‹ä»¶ã€‚å’Œå¼‚æ­¥å‡½æ•°ç›¸æ¯”ï¼Œå¤šäº†ä¸€ä¸ªSyncåç¼€ï¼Œå¹¶ä¸”ä¸æ¥æ”¶å›è°ƒå‡½æ•°ï¼Œå‡½æ•°ç›´æ¥è¿”å›ç»“æœã€‚
- å†™æ–‡ä»¶
- è¦è·å–æ–‡ä»¶å¤§å°ï¼Œåˆ›å»ºæ—¶é—´ç­‰ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨fs.stat()
- Nodeç¯å¢ƒæ‰§è¡Œçš„JavaScriptä»£ç æ˜¯æœåŠ¡å™¨ç«¯ä»£ç ï¼Œæ‰€ä»¥ï¼Œç»å¤§éƒ¨åˆ†éœ€è¦åœ¨æœåŠ¡å™¨è¿è¡ŒæœŸåå¤æ‰§è¡Œä¸šåŠ¡é€»è¾‘çš„ä»£ç ï¼Œå¿…é¡»ä½¿ç”¨å¼‚æ­¥ä»£ç ï¼Œå¦åˆ™ï¼ŒåŒæ­¥ä»£ç åœ¨æ‰§è¡Œæ—¶æœŸï¼ŒæœåŠ¡å™¨å°†åœæ­¢å“åº”
* stream
    - ä¸€ç§æŠ½è±¡æ•°æ®ç»“æ„,ä»è¾“å…¥åˆ°è¾“å‡ºçš„åŠ¨æ€ä¸€è‡´ï¼Œæ ‡å‡†è¾“å…¥æµï¼ˆstdinï¼‰ä¸æ ‡å‡†è¾“å‡ºæµï¼ˆstdoutï¼‰
    - ç‰¹ç‚¹æ˜¯æ•°æ®æ˜¯æœ‰åºçš„ï¼Œè€Œä¸”å¿…é¡»ä¾æ¬¡è¯»å–ï¼Œæˆ–è€…ä¾æ¬¡å†™å…¥
    - ç±»å‹ï¼š
        + Readable - å¯è¯»æ“ä½œ
        + Writable - å¯å†™æ“ä½œ
        + Duplex - å¯è¯»å¯å†™æ“ä½œ
        + Transform - æ“ä½œè¢«å†™å…¥æ•°æ®ï¼Œç„¶åè¯»å‡ºç»“æœ
    - äº‹ä»¶
        + data - å½“æœ‰æ•°æ®å¯è¯»æ—¶è§¦å‘,å¯èƒ½ä¼šæœ‰å¤šæ¬¡ï¼Œæ¯æ¬¡ä¼ é€’çš„chunkæ˜¯æµçš„ä¸€éƒ¨åˆ†æ•°æ®
        + end - æ²¡æœ‰æ›´å¤šçš„æ•°æ®å¯è¯»æ—¶è§¦å‘
        + error - åœ¨æ¥æ”¶å’Œå†™å…¥è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘
        + finish - æ‰€æœ‰æ•°æ®å·²è¢«å†™å…¥åˆ°åº•å±‚ç³»ç»Ÿæ—¶è§¦å‘
    - ä¸€ä¸ªå¯¹è±¡ï¼Œåªéœ€è¦å“åº”æµçš„äº‹ä»¶å°±å¯ä»¥äº†
        * æ‰€æœ‰å¯ä»¥è¯»å–æ•°æ®çš„æµéƒ½ç»§æ‰¿è‡ªstream.Readable
        * æ‰€æœ‰å¯ä»¥å†™å…¥çš„æµéƒ½ç»§æ‰¿è‡ªstream.Writable
    - éœ€è¦ä¸æ–­è°ƒç”¨write()æ–¹æ³•ï¼Œæœ€åä»¥end()ç»“æŸ
    - pipeï¼šä¸€ä¸ªReadableæµå’Œä¸€ä¸ªWritableæµä¸²èµ·æ¥åï¼Œæ‰€æœ‰æ•°æ®è‡ªåŠ¨ä»Readableæµè¿›å…¥Writableæµ
        + å®ç°æ–‡ä»¶å¤åˆ¶ï¼šå½“Readableæµçš„æ•°æ®è¯»å–å®Œæ¯•ï¼Œendäº‹ä»¶è§¦å‘åï¼Œå°†è‡ªåŠ¨å…³é—­Writableæµ
        + å¦‚æœä¸å¸Œæœ›è‡ªåŠ¨å…³é—­Writableæµ `readable.pipe(writable, { end: false });`
        + é€šè¿‡è¿æ¥è¾“å‡ºæµåˆ°å¦å¤–ä¸€ä¸ªæµå¹¶åˆ›å»ºå¤šä¸ªæµæ“ä½œé“¾çš„æœºåˆ¶ã€‚é“¾å¼æµä¸€èˆ¬ç”¨äºç®¡é“æ“ä½œ

## http

* ç”¨JavaScriptç¼–å†™WebæœåŠ¡å™¨ç¨‹åº,å®ç°å…¨æ ˆ
* createServer()æ–¹æ³•ç”¨äºåˆ›å»ºä¸€ä¸ª Web æœåŠ¡å™¨ï¼Œè¿”å›å€¼å°±æ˜¯ä¸€ä¸ªhttp.Serverå®ä¾‹
* http.Serverå±æ€§æŒ‡å‘ä¸€ä¸ªç±»ï¼Œè¡¨ç¤º Web æœåŠ¡å™¨å®ä¾‹.ç»§æ‰¿äº†net.Serverï¼Œè€Œnet.Serverç»§æ‰¿äº† EventEmitter æ¥å£ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨server.on()æ–¹æ³•ç›‘å¬äº‹æƒ…
* è¯·æ±‚å’Œå›åº”éƒ½æ˜¯æ•°æ®æµï¼ˆstreamï¼‰
* requestæ˜¯åªè¯»æ•°æ®æµ äº‹ä»¶request:requestå¯¹è±¡å°è£…äº†HTTPè¯·æ±‚ï¼Œè°ƒç”¨requestå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•å°±å¯ä»¥æ‹¿åˆ°æ‰€æœ‰HTTPè¯·æ±‚çš„ä¿¡æ¯
    + headerså±æ€§è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«äº† HTTP è¯·æ±‚çš„å¤´ä¿¡æ¯ã€‚è¯¥å¯¹è±¡çš„é”®åæ˜¯å¤´ä¿¡æ¯çš„å­—æ®µåï¼Œé”®å€¼æ˜¯å¤´ä¿¡æ¯çš„å­—æ®µå€¼
* responseæ˜¯å¯å†™æ•°æ®æµ responseå¯¹è±¡å°è£…äº†HTTPå“åº”ï¼Œæ“ä½œresponseå¯¹è±¡çš„æ–¹æ³•ï¼Œå°±å¯ä»¥æŠŠHTTPå“åº”è¿”å›ç»™æµè§ˆå™¨
    + response.write()æ–¹æ³•è¡¨ç¤ºä¾æ¬¡å‘ HTTP å›åº”å†™å…¥å†…å®¹response.end()æ–¹æ³•è¡¨ç¤ºå†™å…¥æ•°æ®ä»¥åï¼Œå…³é—­responseæ•°æ®æµ
    + response.end()æ–¹æ³•è¡¨ç¤ºå†™å…¥æ•°æ®ä»¥åï¼Œå…³é—­responseæ•°æ®æµï¼Œæ˜¯å¿…éœ€çš„ï¼Œè€Œä¸”å¿…é¡»å†™åœ¨æœ€åï¼Œå¦åˆ™ Node ä¸ä¼šå…³é—­è¯·æ±‚
    + setHeader()æ–¹æ³•ç”¨äºè®¾ç½®è¿”å›çš„å¤´ä¿¡
    + writeHead()æ–¹æ³•ä¸response.setHeader()ç±»ä¼¼ï¼Œä½†æ˜¯ä¼˜å…ˆçº§æ›´é«˜ã€‚å®ƒå¯ä»¥è®¾ç½®è¿”å›çš„ HTTP çŠ¶æ€ç ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯çŠ¶æ€ç ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯çŠ¶æ€è¯´æ˜
* æ–‡ä»¶æœåŠ¡å™¨ï¼šæ²¡æœ‰å¿…è¦æ‰‹åŠ¨è¯»å–æ–‡ä»¶å†…å®¹ã€‚ç”±äºresponseå¯¹è±¡æœ¬èº«æ˜¯ä¸€ä¸ªWritable Streamï¼Œç›´æ¥ç”¨pipe()æ–¹æ³•å°±å®ç°äº†è‡ªåŠ¨è¯»å–æ–‡ä»¶å†…å®¹å¹¶è¾“å‡ºåˆ°HTTPå“åº”ã€‚`node file_server.js /path/to/dir`

## crypto

* æä¾›é€šç”¨åŠ å¯†å’Œå“ˆå¸Œç®—æ³•ã€‚é€šè¿‡cyptoè¿™ä¸ªæ¨¡å—æš´éœ²ä¸ºJavaScriptæ¥å£
* MD5æ˜¯ä¸€ç§å¸¸ç”¨çš„å“ˆå¸Œç®—æ³•ï¼Œç”¨äºç»™ä»»æ„æ•°æ®ä¸€ä¸ªâ€œç­¾åâ€ã€‚è¿™ä¸ªç­¾åé€šå¸¸ç”¨ä¸€ä¸ªåå…­è¿›åˆ¶çš„å­—ç¬¦ä¸²è¡¨ç¤º
* update()æ–¹æ³•é»˜è®¤å­—ç¬¦ä¸²ç¼–ç ä¸ºUTF-8ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥Bufferã€‚å¦‚æœè¦è®¡ç®—SHA1ï¼Œåªéœ€è¦æŠŠ'md5'æ”¹æˆ'sha1'
* Hmacç®—æ³•ä¹Ÿæ˜¯ä¸€ç§å“ˆå¸Œç®—æ³•ï¼Œå¯ä»¥åˆ©ç”¨MD5æˆ–SHA1ç­‰å“ˆå¸Œç®—æ³•ã€‚ä¸åŒçš„æ˜¯ï¼ŒHmacè¿˜éœ€è¦ä¸€ä¸ªå¯†é’¥.ç”¨éšæœºæ•°â€œå¢å¼ºâ€çš„å“ˆå¸Œç®—æ³•
* AESä¸€ç§å¸¸ç”¨çš„å¯¹ç§°åŠ å¯†ç®—æ³•ï¼ŒåŠ è§£å¯†éƒ½ç”¨åŒä¸€ä¸ªå¯†é’¥ã€‚cryptoæ¨¡å—æä¾›äº†AESæ”¯æŒï¼Œä½†æ˜¯éœ€è¦è‡ªå·±å°è£…å¥½å‡½æ•°ï¼Œä¾¿äºä½¿ç”¨
* Diffie-Hellmanï¼šDHç®—æ³•æ˜¯ä¸€ç§å¯†é’¥äº¤æ¢åè®®ï¼Œå®ƒå¯ä»¥è®©åŒæ–¹åœ¨ä¸æ³„æ¼å¯†é’¥çš„æƒ…å†µä¸‹åå•†å‡ºä¸€ä¸ªå¯†é’¥æ¥ã€‚
    - å°æ˜å…ˆé€‰ä¸€ä¸ªç´ æ•°å’Œä¸€ä¸ªåº•æ•°ï¼Œä¾‹å¦‚ï¼Œç´ æ•°p=23ï¼Œåº•æ•°g=5ï¼ˆåº•æ•°å¯ä»¥ä»»é€‰ï¼‰ï¼Œå†é€‰æ‹©ä¸€ä¸ªç§˜å¯†æ•´æ•°a=6ï¼Œè®¡ç®—A=g^a mod p=8ï¼Œç„¶åå¤§å£°å‘Šè¯‰å°çº¢ï¼šp=23ï¼Œg=5ï¼ŒA=8ï¼›
    - å°çº¢æ”¶åˆ°å°æ˜å‘æ¥çš„pï¼Œgï¼ŒAåï¼Œä¹Ÿé€‰ä¸€ä¸ªç§˜å¯†æ•´æ•°b=15ï¼Œç„¶åè®¡ç®—B=g^b mod p=19ï¼Œå¹¶å¤§å£°å‘Šè¯‰å°æ˜ï¼šB=19ï¼›
    - å°æ˜è‡ªå·±è®¡ç®—å‡ºs=B^a mod p=2ï¼Œå°çº¢ä¹Ÿè‡ªå·±è®¡ç®—å‡ºs=A^b mod p=2ï¼Œå› æ­¤ï¼Œæœ€ç»ˆåå•†çš„å¯†é’¥sä¸º2ã€‚
    - åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¯†é’¥2å¹¶ä¸æ˜¯å°æ˜å‘Šè¯‰å°çº¢çš„ï¼Œä¹Ÿä¸æ˜¯å°çº¢å‘Šè¯‰å°æ˜çš„ï¼Œè€Œæ˜¯åŒæ–¹åå•†è®¡ç®—å‡ºæ¥çš„ã€‚ç¬¬ä¸‰æ–¹åªèƒ½çŸ¥é“p=23ï¼Œg=5ï¼ŒA=8ï¼ŒB=19ï¼Œç”±äºä¸çŸ¥é“åŒæ–¹é€‰çš„ç§˜å¯†æ•´æ•°a=6å’Œb=15ï¼Œå› æ­¤æ— æ³•è®¡ç®—å‡ºå¯†é’¥2

## os

* cpuså±æ€§è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæˆå‘˜å¯¹åº”ä¸€ä¸ª CPU å†…æ ¸

## Buffer

* JavaScript è¯­è¨€è‡ªèº«åªæœ‰å­—ç¬¦ä¸²æ•°æ®ç±»å‹ï¼Œæ²¡æœ‰äºŒè¿›åˆ¶æ•°æ®ç±»å‹ã€‚åœ¨å¤„ç†åƒTCPæµæˆ–æ–‡ä»¶æµæ—¶ï¼Œå¿…é¡»ä½¿ç”¨åˆ°äºŒè¿›åˆ¶æ•°æ®ã€‚å› æ­¤å®šä¹‰äº†ä¸€ä¸ª Buffer ç±»ï¼Œè¯¥ç±»ç”¨æ¥åˆ›å»ºä¸€ä¸ªä¸“é—¨å­˜æ”¾äºŒè¿›åˆ¶æ•°æ®çš„ç¼“å­˜åŒº
* å­—ç¬¦ç¼–ç 
    - Buffer å®ä¾‹ä¸€èˆ¬ç”¨äºè¡¨ç¤ºç¼–ç å­—ç¬¦çš„åºåˆ—
    - é€šè¿‡ä½¿ç”¨æ˜¾å¼çš„å­—ç¬¦ç¼–ç ï¼Œå°±å¯ä»¥åœ¨ Buffer å®ä¾‹ä¸æ™®é€šçš„ JavaScript å­—ç¬¦ä¸²ä¹‹é—´è¿›è¡Œç›¸äº’è½¬æ¢
* åˆ›å»º
    - Buffer.alloc(size[, fill[, encoding]])ï¼š è¿”å›ä¸€ä¸ªæŒ‡å®šå¤§å°çš„ Buffer å®ä¾‹ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½® fillï¼Œåˆ™é»˜è®¤å¡«æ»¡ 0
    - Buffer.allocUnsafe(size)ï¼š è¿”å›ä¸€ä¸ªæŒ‡å®šå¤§å°çš„ Buffer å®ä¾‹ï¼Œä½†æ˜¯å®ƒä¸ä¼šè¢«åˆå§‹åŒ–ï¼Œæ‰€ä»¥å®ƒå¯èƒ½åŒ…å«æ•æ„Ÿçš„æ•°æ®
    - Buffer.allocUnsafeSlow(size)
    - Buffer.from(array)ï¼š è¿”å›ä¸€ä¸ªè¢« array çš„å€¼åˆå§‹åŒ–çš„æ–°çš„ Buffer å®ä¾‹ï¼ˆä¼ å…¥çš„ array çš„å…ƒç´ åªèƒ½æ˜¯æ•°å­—ï¼Œä¸ç„¶å°±ä¼šè‡ªåŠ¨è¢« 0 è¦†ç›–ï¼‰
    - Buffer.from(arrayBuffer[, byteOffset[, length]])ï¼š è¿”å›ä¸€ä¸ªæ–°å»ºçš„ä¸ç»™å®šçš„ ArrayBuffer å…±äº«åŒä¸€å†…å­˜çš„ Bufferã€‚
    - Buffer.from(buffer)ï¼š å¤åˆ¶ä¼ å…¥çš„ Buffer å®ä¾‹çš„æ•°æ®ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ Buffer å®ä¾‹
    - Buffer.from(string[, encoding])ï¼šè¿”å›ä¸€ä¸ªè¢« string çš„å€¼åˆå§‹åŒ–çš„æ–°çš„ Buffer å®ä¾‹
* å†™å…¥ Node ç¼“å†²åŒºè¯­æ³•ï¼š`int buf.write(string[, offset[, length]][, encoding])`
* è¯»å– Node ç¼“å†²åŒºæ•°æ®
    - `string buf.toString([encoding[, start[, end]]])`
    - å½“å­—ç¬¦ä¸²åŒ–ä¸€ä¸ª Buffer å®ä¾‹æ—¶ï¼ŒJSON.stringify() ä¼šéšå¼åœ°è°ƒç”¨è¯¥ toJSON()
* ç¼“å†²åŒºåˆå¹¶ `Buffer.concat(list[, totalLength])`
* æ¯”è¾ƒ è¿”å›ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤º buf åœ¨ otherBuffer ä¹‹å‰ï¼Œä¹‹åæˆ–ç›¸åŒ
* æ‹·è´ å°†ä¸€ä¸ªç¼“å†²åŒºæ‹·è´åˆ°å¦ä¸€ä¸ªæŒ‡å®šä½ç½®

### æ¨¡å—ç³»ç»Ÿ

* æ¨¡å—æ˜¯Node.js åº”ç”¨ç¨‹åºçš„åŸºæœ¬ç»„æˆéƒ¨åˆ†ï¼Œæ–‡ä»¶å’Œæ¨¡å—æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚ä¸€ä¸ª Node.js æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œè¿™ä¸ªæ–‡ä»¶å¯èƒ½æ˜¯JavaScript ä»£ç ã€JSON æˆ–è€…ç¼–è¯‘è¿‡çš„C/C++ æ‰©å±•
* ä¼˜ç‚¹
    - æé«˜ä»£ç å¯ç»´æŠ¤æ€§
    - ç¼–å†™ä¸å¿…ä»é›¶å¼€å§‹
    - é¿å…å‡½æ•°åå’Œå˜é‡åå†²çªã€‚ç›¸åŒåå­—çš„å‡½æ•°å’Œå˜é‡å®Œå…¨å¯ä»¥åˆ†åˆ«å­˜åœ¨ä¸åŒçš„æ¨¡å—ä¸­
* CommonJSè§„èŒƒ
* å®ç°â€œæ¨¡å—â€åŠŸèƒ½çš„å¥¥å¦™å°±åœ¨äºJavaScriptæ˜¯ä¸€ç§å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ï¼Œæ”¯æŒé—­åŒ…ã€‚å¦‚æœæŠŠä¸€æ®µJavaScriptä»£ç ç”¨ä¸€ä¸ªå‡½æ•°åŒ…è£…èµ·æ¥ï¼Œè¿™æ®µä»£ç çš„æ‰€æœ‰â€œå…¨å±€â€å˜é‡å°±å˜æˆäº†å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡
* exports æ˜¯æ¨¡å—å…¬å¼€çš„æ¥å£
    - æŠŠä¸€ä¸ªå¯¹è±¡å°è£…åˆ°æ¨¡å—  `module.exports=`
    - module.exports vs exports
        + Nodeä¼šæŠŠæ•´ä¸ªå¾…åŠ è½½çš„hello.jsæ–‡ä»¶æ”¾å…¥ä¸€ä¸ªåŒ…è£…å‡½æ•°loadä¸­æ‰§è¡Œã€‚åœ¨æ‰§è¡Œè¿™ä¸ªload()å‡½æ•°å‰ï¼ŒNodeå‡†å¤‡å¥½äº†moduleå˜é‡
        + load()å‡½æ•°æœ€ç»ˆè¿”å›module.exports
        + é»˜è®¤æƒ…å†µä¸‹ï¼ŒNodeå‡†å¤‡çš„exportså˜é‡å’Œmodule.exportså˜é‡å®é™…ä¸Šæ˜¯åŒä¸€ä¸ªå˜é‡ï¼Œå¹¶ä¸”åˆå§‹åŒ–ä¸ºç©ºå¯¹è±¡{}
        + å¦‚æœè¦è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–æ•°ç»„ï¼Œé‚£ä¹ˆï¼Œåªèƒ½ç»™module.exportsèµ‹å€¼ `module.exports = function () { return 'foo'; };` ç»™exportsèµ‹å€¼æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºèµ‹å€¼åï¼Œmodule.exportsä»ç„¶æ˜¯ç©ºå¯¹è±¡{}
    - è¾“å‡ºä¸€ä¸ªé”®å€¼å¯¹è±¡{}ï¼Œå¯ä»¥åˆ©ç”¨exportsè¿™ä¸ªå·²å­˜åœ¨çš„ç©ºå¯¹è±¡{}ï¼Œå¹¶ç»§ç»­åœ¨ä¸Šé¢æ·»åŠ æ–°çš„é”®å€¼
    - è¾“å‡ºä¸€ä¸ªå‡½æ•°æˆ–æ•°ç»„ï¼Œå¿…é¡»ç›´æ¥å¯¹module.exportså¯¹è±¡èµ‹å€¼
* require ç”¨äºä»å¤–éƒ¨è·å–ä¸€ä¸ªæ¨¡å—çš„æ¥å£ï¼Œå³æ‰€è·å–æ¨¡å—çš„ exports å¯¹è±¡
    - ç±»å‹
        + httpã€fsã€pathç­‰ï¼ŒåŸç”Ÿæ¨¡å—ã€‚
        + ./modæˆ–../modï¼Œç›¸å¯¹è·¯å¾„çš„æ–‡ä»¶æ¨¡å—ã€‚
        + /pathtomodule/modï¼Œç»å¯¹è·¯å¾„çš„æ–‡ä»¶æ¨¡å—ã€‚
        + modï¼ŒéåŸç”Ÿæ¨¡å—çš„æ–‡ä»¶æ¨¡å—
    - æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥
        + ä¼˜å…ˆä»æ–‡ä»¶æ¨¡å—ç¼“å­˜ä¸­åŠ è½½å·²ç»å­˜åœ¨æ¨¡å—
        + åŸç”Ÿæ¨¡å—ä¼˜å…ˆçº§ä»…æ¬¡äºæ–‡ä»¶æ¨¡å—ç¼“å­˜çš„ä¼˜å…ˆçº§
        + å½“æ–‡ä»¶æ¨¡å—ç¼“å­˜ä¸­ä¸å­˜åœ¨ï¼Œè€Œä¸”ä¸æ˜¯åŸç”Ÿæ¨¡å—çš„æ—¶å€™ï¼ŒNode.js ä¼šè§£æ require æ–¹æ³•ä¼ å…¥çš„å‚æ•°ï¼Œå¹¶ä»æ–‡ä»¶ç³»ç»Ÿä¸­åŠ è½½å®é™…çš„æ–‡ä»¶
    - å¼•å…¥æ¨¡å—ï¼šå¦‚æœä¸åŠ ç›¸å¯¹åœ°å€ï¼šNodeä¼šä¾æ¬¡åœ¨å†…ç½®æ¨¡å—ã€å…¨å±€æ¨¡å—å’Œå½“å‰æ¨¡å—ä¸‹æŸ¥æ‰¾ `var foo = require('other_module');`

## util

* Node.js æ ¸å¿ƒæ¨¡å—ï¼Œæä¾›å¸¸ç”¨å‡½æ•°çš„é›†åˆ
* æ–¹æ³•
    - callbackify(original) å°† async å¼‚æ­¥å‡½æ•°ï¼ˆæˆ–è€…ä¸€ä¸ªè¿”å›å€¼ä¸º Promise çš„å‡½æ•°ï¼‰è½¬æ¢æˆéµå¾ªå¼‚å¸¸ä¼˜å…ˆçš„å›è°ƒé£æ ¼çš„å‡½æ•°
        + å›è°ƒå‡½æ•°æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œå¹¶ä¸”æœ‰å¼‚å¸¸å †æ ˆé”™è¯¯è¿½è¸ªã€‚ å¦‚æœå›è°ƒå‡½æ•°æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œè¿›ç¨‹ä¼šè§¦å‘ä¸€ä¸ª 'uncaughtException' å¼‚å¸¸ï¼Œå¦‚æœæ²¡æœ‰è¢«æ•è·ï¼Œè¿›ç¨‹å°†ä¼šé€€å‡º
        + null åœ¨å›è°ƒå‡½æ•°ä¸­ä½œä¸ºä¸€ä¸ªå‚æ•°æœ‰å…¶ç‰¹æ®Šçš„æ„ä¹‰ï¼Œå¦‚æœå›è°ƒå‡½æ•°çš„é¦–ä¸ªå‚æ•°ä¸º Promise æ‹’ç»çš„åŸå› ä¸”å¸¦æœ‰è¿”å›å€¼ï¼Œä¸”å€¼å¯ä»¥è½¬æ¢æˆå¸ƒå°”å€¼ falseï¼Œè¿™ä¸ªå€¼ä¼šè¢«å°è£…åœ¨ Error å¯¹è±¡é‡Œï¼Œå¯ä»¥é€šè¿‡å±æ€§ reason è·å–
    - inherits(constructor, superConstructor) æ˜¯ä¸€ä¸ªå®ç°å¯¹è±¡é—´åŸå‹ç»§æ‰¿çš„å‡½æ•°
    - inspect(object,[showHidden],[depth],[colors]) æ˜¯ä¸€ä¸ªå°†ä»»æ„å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œé€šå¸¸ç”¨äºè°ƒè¯•å’Œé”™è¯¯è¾“å‡ºã€‚å®ƒè‡³å°‘æ¥å—ä¸€ä¸ªå‚æ•° objectï¼Œå³è¦è½¬æ¢çš„å¯¹è±¡
    - isArray(object) å¦‚æœç»™å®šçš„å‚æ•° "object" æ˜¯ä¸€ä¸ªæ•°ç»„è¿”å› trueï¼Œå¦åˆ™è¿”å› false

## [mongodb](https://www.npmjs.com/package/mongodb)

```js
npm install mongodb --save
```

### child_process

* clusteræ¨¡å—
* nodejsæ˜¯å•çº¿ç¨‹ï¼Œä¸èƒ½å……åˆ†åˆ©ç”¨å¤šæ ¸cpuèµ„æºï¼Œå› æ­¤è¦å¯åŠ¨å¤šè¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹åˆ©ç”¨ä¸€ä¸ªCPUï¼Œå®ç°å¤šæ ¸CPUåˆ©ç”¨
    - å¯å¤šä¸ªè¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹ç»‘å®šä¸åŒçš„ç«¯å£ï¼Œä¸»è¿›ç¨‹å¯¹å¤–æ¥å—æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚ï¼Œå†å°†è¿™äº›è¯·æ±‚åˆ†åˆ«ä»£ç†åˆ°ä¸åŒçš„ç«¯å£çš„è¿›ç¨‹ä¸Š
    - é€šè¿‡ä»£ç†å¯ä»¥é¿å…ç«¯å£ä¸èƒ½é‡å¤ç›‘å¬çš„é—®é¢˜ï¼Œ
    - ä»£ç†è¿›ç¨‹ä¸Šåšé€‚å½“çš„è´Ÿè½½å‡è¡¡ï¼Œç”±äºè¿›ç¨‹æ¯æ¥æ”¶åˆ°ä¸€ä¸ªè¿æ¥ï¼Œå°†ä¼šç”¨æ‰ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œå› æ­¤ä»£ç†æ–¹æ¡ˆä¸­å®¢æˆ·ç«¯è¿æ¥åˆ°ä»£ç†è¿›ç¨‹ï¼Œä»£ç†è¿›ç¨‹è¿æ¥åˆ°å·¥ä½œè¿›ç¨‹çš„è¿‡ç¨‹éœ€è¦ç”¨æ‰ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œæ“ä½œç³»ç»Ÿçš„æ–‡ä»¶æè¿°ç¬¦æ˜¯æœ‰é™çš„ï¼Œä»£ç†æ–¹æ¡ˆæµªè´¹æ‰ä¸€å€æ•°é‡çš„æ–‡ä»¶æè¿°ç¬¦çš„åšæ³•å½±å“äº†ç³»ç»Ÿçš„æ‰©å±•èƒ½åŠ›ã€‚
* child_process æ¨¡å—æ¥åˆ›å»ºå­è¿›ç¨‹
* æ–¹æ³•
    - exec ä½¿ç”¨å­è¿›ç¨‹æ‰§è¡Œå‘½ä»¤ï¼Œç¼“å­˜å­è¿›ç¨‹çš„è¾“å‡ºï¼Œå¹¶å°†å­è¿›ç¨‹çš„è¾“å‡ºä»¥å›è°ƒå‡½æ•°å‚æ•°çš„å½¢å¼è¿”å›ã€‚
    - spawn  ä½¿ç”¨æŒ‡å®šå‘½ä»¤è¡Œå‚æ•°åˆ›å»ºæ–°è¿›ç¨‹
    - fork - child_process.fork æ˜¯ spawn()çš„ç‰¹æ®Šå½¢å¼ï¼Œç”¨äºåœ¨å­è¿›ç¨‹ä¸­è¿è¡Œçš„æ¨¡å—ï¼Œå¦‚ fork('./son.js') ç›¸å½“äº spawn('node', ['./son.js']) ã€‚ä¸spawnæ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œforkä¼šåœ¨çˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹ä¹‹é—´ï¼Œå»ºç«‹ä¸€ä¸ªé€šä¿¡ç®¡é“ï¼Œç”¨äºè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡
* æœ‰å¤šä¸ªè¿›ç¨‹åŒæ—¶ç­‰å¾…ç½‘ç»œçš„è¿æ¥äº‹ä»¶ï¼Œå½“è¿™ä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè¿™äº›è¿›ç¨‹è¢«åŒæ—¶å”¤é†’ï¼Œå°±ä¼šäº§ç”Ÿ"æƒŠç¾¤é—®é¢˜"
    - è¿›ç¨‹è¢«å”¤é†’ï¼Œéœ€è¦è¿›è¡Œå†…æ ¸é‡æ–°è°ƒåº¦ï¼Œè¿™æ ·æ¯ä¸ªè¿›ç¨‹åŒæ—¶å»å“åº”è¿™ä¸€ä¸ªäº‹ä»¶ï¼Œè€Œæœ€ç»ˆåªæœ‰ä¸€ä¸ªè¿›ç¨‹èƒ½å¤„ç†äº‹ä»¶æˆåŠŸï¼Œå…¶ä»–çš„è¿›ç¨‹åœ¨å¤„ç†è¯¥äº‹ä»¶å¤±è´¥åé‡æ–°ä¼‘çœ æˆ–å…¶ä»–ï¼Œæµªè´¹æ€§èƒ½
    - è¿™æ—¶é‡‡ç”¨çš„æ˜¯æ“ä½œç³»ç»Ÿçš„æŠ¢å å¼ç­–ç•¥ï¼Œè°æŠ¢åˆ°è°æœåŠ¡ï¼Œä¸€èˆ¬è€Œè¨€è¿™æ˜¯å…¬å¹³çš„ï¼Œå„ä¸ªè¿›ç¨‹å¯ä»¥æ ¹æ®è‡ªå·±çš„ç¹å¿™åº¦æ¥è¿›è¡ŒæŠ¢å ï¼Œä½†å¯¹äºnodeæ¥è¯´ï¼Œéœ€è¦åˆ†æ¸…ä»–çš„ç¹å¿™åº¦æ˜¯ç”±CPUï¼ŒI/Oä¸¤éƒ¨åˆ†æ„æˆçš„ï¼Œå½±å“æŠ¢å çš„æ˜¯CPUçš„ç¹å¿™åº¦ï¼Œå¯¹äºä¸åŒçš„ä¸šåŠ¡å¯èƒ½å­˜åœ¨I/Oç¹å¿™ï¼Œè€ŒCPUè¾ƒä¸ºç©ºé—²çš„æƒ…å†µï¼Œè¿™å¯èƒ½é€ æˆæŸä¸ªè¿›ç¨‹æŠ¢åˆ°è¾ƒå¤šè¯·æ±‚ï¼Œå½¢æˆè´Ÿè½½ä¸å‡è¡¡çš„æƒ…å†µ
- ä¸ºäº†è§£å†³è´Ÿè½½å‡è¡¡ä»¥åŠæ¶ˆé™¤æƒŠç¾¤æ•ˆåº”ï¼Œæ”¹è¿›æ˜¯åœ¨masterè°ƒç”¨accpetå¼€å§‹ç›‘å¬ç­‰å¾…ç½‘ç»œè¿æ¥ï¼Œmasteræ¥æ§åˆ¶è¯·æ±‚çš„ç»™äºˆã€‚å°†è·å¾—çš„è¿æ¥å‡è¡¡çš„ä¼ é€’ç»™å­è¿›ç¨‹
    - è´Ÿè´£æ¥æ”¶socketçš„masteréœ€è¦é‡æ–°åˆ†é…å‘é€socket ï¼Œè€Œä¸”ä»…æœ‰ä¸€ä¸ªè¿›ç¨‹å»acceptè¿æ¥ï¼Œæ•ˆç‡ä¼šé™ä½ nodeå®˜æ–¹çš„clusteræ¨¡å—å°±æ˜¯è¿™ä¹ˆå®ç°çš„ï¼Œå®è´¨æ˜¯é‡‡ç”¨äº†roundï¼robinè½®å«è°ƒåº¦ç®—æ³•ã€‚
* é›†ç¾¤ç¨³å®š
    - è‡ªåŠ¨é‡å¯ï¼šåœ¨ä¸»è¿›ç¨‹ä¸Šè¦åŠ å…¥ä¸€äº›å­è¿›ç¨‹ç®¡ç†çš„æœºåˆ¶ï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªå­è¿›ç¨‹æŒ‚æ‰åï¼Œè¦é‡æ–°å¯åŠ¨ä¸€ä¸ªå­è¿›ç¨‹æ¥ç»§ç»­æœåŠ¡.å‡è®¾å­è¿›ç¨‹ä¸­æœ‰æœªæ•è·å¼‚å¸¸å‘ç”Ÿ
    - ç­‰åˆ°å·²æœ‰çš„æ‰€æœ‰è¿æ¥æ–­å¼€åè¿›ç¨‹æ‰é€€å‡ºï¼Œåœ¨æç«¯çš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å·¥ä½œè¿›ç¨‹éƒ½åœæ­¢æ¥æ”¶æ–°é“¾æ¥ï¼Œå…¨å¤„åœ¨ç­‰å¾…é€€å‡ºçŠ¶æ€ã€‚ä½†åœ¨ç­‰åˆ°è¿›ç¨‹å®Œå…¨é€€å‡ºæ‰é‡å¯çš„è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰æ–°æ¥çš„è¯·æ±‚å¯èƒ½å­˜åœ¨æ²¡æœ‰å·¥ä½œè¿›ç¨‹ä¸ºæ–°ç”¨æˆ·æœåŠ¡çš„åœºæ™¯ï¼Œè¿™ä¼šä¸¢æ‰å¤§éƒ¨åˆ†è¯·æ±‚
    - ä¸ºæ­¤éœ€è¦æ”¹è¿›ï¼Œåœ¨å­è¿›ç¨‹åœæ­¢æ¥æ”¶æ–°é“¾æ¥æ—¶ï¼Œä¸»è¿›ç¨‹å°±è¦forkæ–°çš„å­è¿›ç¨‹ç»§ç»­æœåŠ¡ã€‚ä¸ºæ­¤åœ¨å·¥ä½œè¿›ç¨‹å¾—çŸ¥è¦é€€å‡ºæ—¶ï¼Œå‘ä¸»è¿›ç¨‹ä¸»åŠ¨å‘é€ä¸€ä¸ªè‡ªæ€ä¿¡å·ï¼Œç„¶åæ‰åœæ­¢æ¥æ”¶æ–°è¿æ¥ã€‚ä¸»è¿›ç¨‹åœ¨æ”¶åˆ°è‡ªæ€ä¿¡å·åç«‹å³åˆ›å»ºæ–°çš„å·¥ä½œè¿›ç¨‹
* é™é‡é‡å¯
    - å·¥ä½œè¿›ç¨‹ä¸èƒ½æ— é™åˆ¶çš„è¢«é‡å¯ï¼Œå¦‚æœå¯åŠ¨çš„è¿‡ç¨‹ä¸­å°±å‘ç”Ÿäº†é”™è¯¯æˆ–è€…å¯åŠ¨åæ¥åˆ°è¿æ¥å°±æ”¶åˆ°é”™è¯¯ï¼Œä¼šå¯¼è‡´å·¥ä½œè¿›ç¨‹è¢«é¢‘ç¹é‡å¯ã€‚æ‰€ä»¥è¦åŠ ä»¥é™åˆ¶ï¼Œæ¯”å¦‚åœ¨å•ä½æ—¶é—´å†…è§„å®šåªèƒ½é‡å¯å¤šå°‘æ¬¡ï¼Œè¶…è¿‡é™åˆ¶å°±è§¦å‘giveupäº‹ä»¶ï¼Œå‘ŠçŸ¥æ”¾å¼ƒé‡å¯å·¥ä½œè¿›ç¨‹è¿™ä¸ªé‡è¦äº‹ä»¶ã€‚å¼•å…¥ä¸€ä¸ªé˜Ÿåˆ—æ¥åšæ ‡è®°ï¼Œåœ¨æ¯æ¬¡é‡å¯å·¥ä½œè¿›ç¨‹ä¹‹é—´æ‰“ç‚¹åˆ¤æ–­é‡å¯æ˜¯å¦è¿‡äºé¢‘ç¹
    - giveupäº‹ä»¶æ˜¯æ¯”uncaughtExceptionæ›´ä¸¥é‡çš„å¼‚å¸¸äº‹ä»¶ï¼Œgiveupäº‹ä»¶è¡¨ç¤ºé›†ç¾¤ä¸­æ²¡æœ‰ä»»ä½•è¿›ç¨‹æœåŠ¡äº†ï¼Œååˆ†å±é™©ã€‚ä¸ºäº†å¥å£®æ€§è€ƒè™‘ï¼Œæˆ‘ä»¬åº”åœ¨giveupäº‹ä»¶ä¸­æ·»åŠ é‡è¦æ—¥å¿—ï¼Œå¹¶è®©ç›‘æ§ç³»ç»Ÿç›‘è§†åˆ°è¿™ä¸ªä¸¥é‡é”™è¯¯ï¼Œè¿›è€ŒæŠ¥è­¦ç­‰
    - gisconnectäº‹ä»¶è¡¨ç¤ºçˆ¶å­è¿›ç¨‹ç”¨äºé€šä¿¡çš„channelå…³é—­äº†ï¼Œæ­¤æ—¶çˆ¶å­è¿›ç¨‹ä¹‹é—´å¤±å»äº†è”ç³»ï¼Œè‡ªç„¶æ˜¯æ— æ³•ä¼ é€’å®¢æˆ·ç«¯æ¥æ”¶åˆ°çš„è¿æ¥äº†
    - å¤±å»è”ç³»ä¸è¡¨ç¤ºä¼šé€€å‡ºï¼Œworkerè¿›ç¨‹æœ‰å¯èƒ½ä»ç„¶åœ¨è¿è¡Œï¼Œä½†æ­¤æ—¶å·²ç»æ— åŠ›æ¥æ”¶è¯·æ±‚äº†ã€‚æ‰€ä»¥å½“masterè¿›ç¨‹æ”¶åˆ°æŸä¸ªworker disconnectçš„äº‹ä»¶æ—¶ï¼Œå…ˆéœ€è¦killæ‰workerï¼Œç„¶åå†forkä¸€ä¸ªworker

## é—®é¢˜

> node-sass

```sh
npm install -g mirror-config-china --registry=http://registry.npm.taobao.org
npm install node-sass

SASS_BINARY_SITE=https://npm.taobao.org/mirrors/node-sass/ npm install node-sass

yarn install node-sass
```

## é¢è¯•

* [jimuyouyou/node-interview-questions](https://github.com/jimuyouyou/node-interview-questions)
* [node-interview](https://github.com/ElemeFE/node-interview) How to pass the Node.js interview of ElemeFE. https://elemefe.github.io/node-interview/

## æ•™ç¨‹

* [Node.js æ•™ç¨‹](https://github.com/wangdoc/node-tutorial)
* [The Node Beginner Book](https://www.nodebeginner.org/index-zh-cn.html)
* [ElemeFE/node-practice](https://github.com/ElemeFE/node-practice):Node.js å®è·µæ•™ç¨‹
* [Chiara-yen/startLearningNodejs](https://github.com/Chiara-yen/startLearningNodejs)
* [scotch-io/node-todo](https://github.com/scotch-io/node-todo):A simple Node/MongoDB/Angular todo app https://scotch.io/tutorials/creating-â€¦
* [alsotang/node-lessons](https://github.com/alsotang/node-lessons):ğŸ“•ã€ŠNode.js åŒ…æ•™ä¸åŒ…ä¼šã€‹ by alsotang
* [node-in-debugging](https://github.com/nswbmw/node-in-debugging):ã€ŠNode.js è°ƒè¯•æŒ‡å—ã€‹

## å·¥å…·

* main
  - [Dist](http://nodejs.org/dist/)
  - [motdotla/dotenv](https://github.com/motdotla/dotenv):Loads environment variables from .env for nodejs projects.
* æ¡†æ¶
    - [fastify/fastify](https://github.com/fastify/fastify) Fast and low overhead web framework, for Node.js https://www.fastify.io/
    - [sahat/hackathon-starter](https://github.com/sahat/hackathon-starter):A boilerplate for Node.js web applications
    - [balderdashy/sails](https://github.com/balderdashy/sails):Realtime MVC Framework for Node.js https://sailsjs.com
    - [NodeBB/NodeBB](https://github.com/NodeBB/NodeBB):Node.js based forum software built for the modern web https://nodebb.org
* Compiler
  - [zeit/ncc](https://github.com/zeit/ncc):Node.js Compiler Collection
* ç¼“å­˜
  - [isaacs/node-lru-cache](https://github.com/isaacs/node-lru-cache)
* Error
  - [AriaMinaei/pretty-error](https://github.com/AriaMinaei/pretty-error):See node.js errors with less clutter
* Proxy
  - [OptimalBits/redbird](https://github.com/OptimalBits/redbird):A modern reverse proxy for node
  - [alibaba/anyproxy](https://github.com/alibaba/anyproxy):A fully configurable http/https proxy in NodeJS http://anyproxy.io
    - [chimurai/http-proxy-middleware](https://github.com/chimurai/http-proxy-middleware):âš¡ï¸ The one-liner node.js http-proxy middleware for connect, express and browser-sync
* db
  - [NodeRedis/node_redis](https://github.com/NodeRedis/node_redis):redis client for node http://redis.js.org/
  - [luin/ioredis](https://github.com/luin/ioredis):ğŸš€A robust, performance-focused and full-featured Redis client for Node.js.
  - [typeorm](https://github.com/typeorm/typeorm):ORM for TypeScript and JavaScript (ES7, ES6, ES5). Supports MySQL, PostgreSQL, MariaDB, SQLite, MS SQL Server, Oracle, WebSQL databases. Works in NodeJS, Browser, Ionic, Cordova and Electron platforms. http://typeorm.io
  - [sequelize](https://github.com/sequelize/sequelize):An easy-to-use multi SQL dialect ORM for Node.js https://sequelize.org
* HTTP
    - [got](https://github.com/sindresorhus/got):ğŸŒ Human-friendly and powerful HTTP request library for Node.js
    - [tj/co](https://github.com/tj/co):The ultimate generator based flow-control goodness for nodejs (supports thunks, promises, etc)
* Logger
  - [winstonjs/winston](https://github.com/winstonjs/winston):A logger for just about everything. http://github.com/winstonjs/winston
  - [expressjs/morgan](https://github.com/expressjs/morgan):HTTP request logger middleware for node.js
* authenticate
  - [jaredhanson/passport](https://github.com/jaredhanson/passport)ï¼šSimple, unobtrusive authentication for Node.js. http://www.passportjs.org
* ç›‘æ§
  - [lloyd/node-memwatch](https://github.com/lloyd/node-memwatch):A NodeJS library to keep an eye on your memory usage, and discover and isolate leaks.
  - [etsy/statsd](https://github.com/etsy/statsd):Daemon for easy but powerful stats aggregation
* cli
  - [yargs](https://github.com/yargs/yargs):yargs the modern, pirate-themed successor to optimist. http://yargs.js.org/
  - [tj/commander.js](https://github.com/tj/commander.js):node.js command-line interfaces made easy
* render
  - [GoogleChromeLabs/carlo](https://github.com/GoogleChromeLabs/carlo):Web rendering surface for Node applications
* Kafka
  - [SOHU-Co/kafka-node](https://github.com/SOHU-Co/kafka-node):Node.js client for Apache Kafka 0.8 and later.
* compression
  - [expressjs/compression](https://github.com/expressjs/compression):Node.js compression middleware
* i18n
  - [i18next/i18next](https://github.com/i18next/i18next):i18next: learn once - translate everywhere http://i18next.com/
* REST
  - [restify/node-restify](https://github.com/restify/node-restify):The future of Node.js REST development http://restify.com
* package
  - [zeit/pkg](https://github.com/zeit/pkg):Package your Node.js project into an executable https://npmjs.com/pkg
* test
  - [GoogleChromeLabs/ndb](https://github.com/GoogleChromeLabs/ndb):ndb is an improved debugging experience for Node.js, enabled by Chrome DevTools
  - [DevExpress/testcafe](https://github.com/DevExpress/testcafe):A Node.js tool to automate end-to-end web testing. https://devexpress.github.io/testcafe/
  - [visionmedia/supertest](https://github.com/visionmedia/supertest):ğŸ•·Super-agent driven library for testing node.js HTTP servers using a fluent API
  - [ getgauge / taiko ](https://github.com/getgauge/taiko):A node.js library for testing modern web applications https://taiko.dev
  - [ mcollina / autocannon ](https://github.com/mcollina/autocannon):fast HTTP/1.1 benchmarking tool written in Node.js
  - [Marak/faker.js](https://github.com/Marak/faker.js):generate massive amounts of realistic fake data in Node.js and the browser
* date
    - [](https://github.com/date-fns/date-fns): hourglass_flowing_sand Modern JavaScript date utility library hourglass
* [GoogleChromeLabs/carlo](https://github.com/GoogleChromeLabs/carlo):Web rendering surface for Node applications
* [kamranahmedse/pennywise](https://github.com/kamranahmedse/pennywise):Cross-platform application to open anything in a floating window
* [noble/bleno](https://github.com/noble/bleno):A Node.js module for implementing BLE (Bluetooth Low Energy) peripherals
* [octalmage/robotjs](https://github.com/octalmage/robotjs):Node.js Desktop Automation. http://robotjs.io
* [InversifyJS](https://github.com/inversify/InversifyJS):A powerful and lightweight inversion of control container for JavaScript & Node.js apps powered by TypeScript. http://inversify.io/

## reference

* [Guides](https://nodejs.org/en/docs/guides/)
* [Node.js v11.6.0 Documentation](https://nodejs.org/api/)
* [goldbergyoni/nodebestpractices](https://github.com/goldbergyoni/nodebestpractices):white_check_mark The largest Node.js best practices list (September 2019) https://twitter.com/nodepractices/
* [i0natan/nodebestpractices](https://github.com/i0natan/nodebestpractices):The largest Node.JS best practices list. Curated from the top ranked articles and always updated
* [NodeJSçš„ä»£ç è°ƒè¯•å’Œæ€§èƒ½è°ƒä¼˜](http://www.cnblogs.com/hustskyking/p/how-to-build-a-https-server.html)
