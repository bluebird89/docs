# log

å†™æ—¥å¿—  æµ‹è¯•ä»£ç ä½œä¸ºç¼–ç çš„ä¸€éƒ¨åˆ†

## åŸç†

* è®°å½•å™¨ è´Ÿè´£äº§ç”Ÿæ—¥å¿—è®°å½•çš„åŸå§‹ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼ˆåŸå§‹ä¿¡æ¯ï¼Œæ—¥å¿—ç­‰çº§ï¼Œæ—¶é—´ï¼Œè®°å½•çš„ä½ç½®ï¼‰ç­‰ä¿¡æ¯
* è¿‡æ»¤å™¨ è´Ÿè´£æŒ‰æŒ‡å®šçš„è¿‡æ»¤æ¡ä»¶è¿‡æ»¤æ‰æˆ‘ä»¬ä¸éœ€è¦çš„æ—¥å¿—ï¼ˆæ¯”å¦‚æŒ‰æ—¥å¿—ç­‰çº§è¿‡æ»¤ï¼‰
* æ ¼å¼åŒ–å™¨ :è´Ÿè´£å¯¹åŸå§‹æ—¥å¿—ä¿¡æ¯æŒ‰ç…§æˆ‘ä»¬æƒ³è¦çš„æ ¼å¼å»æ ¼å¼åŒ–
* è¾“å‡ºå™¨ è´Ÿè´£å°†å°†è¦è¿›è¡Œè®°å½•çš„æ—¥å¿—ï¼ˆä¸€èˆ¬ç»è¿‡è¿‡æ»¤å™¨åŠæ ¼å¼åŒ–å™¨çš„å¤„ç†åï¼‰è®°å½•åˆ°æ—¥å¿—ç›®çš„åœ°ï¼ˆä¾‹å¦‚ï¼šè¾“å‡ºåˆ°æ–‡ä»¶ä¸­æˆ–è€…é€šè¿‡ç½‘ç»œå‘é€å‡ºå»ï¼‰

## æ—¥å¿—åˆ†æ

* ä½¿ç”¨æ•°æ®åº“æ¥è¿›è¡Œæ—¥å¿—åˆ†æï¼Œä¸€ä¸ªå¾ˆé‡è¦çš„ç‚¹å°±æ˜¯å¦‚ä½•å°†å„ç§å¼‚æ„çš„æ—¥å¿—æ–‡ä»¶å¯¼å…¥åˆ°çš„æ•°æ®åº“ä¸­ï¼Œå› ä¸ºæ•°æ®åº“é¦–å…ˆéœ€è¦æŒ‰ç…§å›ºå®šæ ¼å¼åˆ›å»ºè¡¨ç»“æ„â€”â€”è¿™ä¸ªè¿‡ç¨‹é€šå¸¸ç§°ä¸º ETLã€‚å½“æ•°æ®å¯¼å…¥åï¼Œå¯ä»¥é‡‡ç”¨å¤§å®¶ç†Ÿæ‚‰çš„ SQL è¿›è¡Œæ—¥å¿—çš„å„ç§åˆ†æã€‚
* æ•°æ®è§„æ¨¡æ¯”è¾ƒå¤§çš„æƒ…å†µï¼Œä¸€èˆ¬ä¼šä½¿ç”¨åˆ†å¸ƒå¼æŠ€æœ¯
    - é‡‡ç”¨ hadoop å­˜å‚¨æ—¥å¿—æ•°æ®ï¼Œåç»­é‡‡ç”¨ MapReduce çš„ job æˆ–è€… spark ç­‰è¿›è¡Œåˆ†æ
    - å¦‚æœå¸Œæœ›é‡‡ç”¨ SQL çš„æ–¹æ¡ˆæ¥åˆ†æï¼Œå¯ä»¥é‡‡ç”¨ Hive è¿™äº›ç±»ä¼¼æ•°æ®åº“çš„ç³»ç»Ÿã€‚è¿™ç±»ç³»ç»Ÿé€‚åˆäºæ‰¹é‡çš„è¿›è¡Œåˆ†æã€‚å¦‚æœéœ€è¦å®æ—¶åˆ†æåˆ™éœ€è¦å¼•å…¥ä¸€äº›å®æ—¶çš„å¤„ç†ç³»ç»Ÿã€‚
* é—®é¢˜
    - æ—¥å¿—åˆ†ææœ€å¤§çš„é—®é¢˜æ˜¯å­—æ®µæŠ½å–å¤æ‚:å¯¹æ‰€æœ‰æ—¥å¿—è¿›è¡Œå­—æ®µæŠ½å–çš„å·¥ä½œé‡å¾ˆå¤§ï¼Œå…¶æ¬¡æ—¥å¿—ä¼šéšç€äº§å“ç‰ˆæœ¬æ›´æ–°å‘ç”Ÿå˜åŒ–ï¼Œè€Œä¸”æ—¥å¿—å…¥åº“æ—¶å¾ˆéš¾é¢„çŸ¥åç»­çš„åˆ†æå¯¹å­—æ®µçš„éœ€æ±‚ã€‚å› æ­¤éœ€è¦ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“ç”¨çš„æ—¥å¿—æŠ½å–åŠŸèƒ½ï¼Œä»¥åŠæœç´¢æ—¶æŒ‰éœ€ä¸´æ—¶æŠ½å–å­—æ®µçš„èƒ½åŠ›ã€‚
    - éœ€è¦çµæ´»å¯é…ç½®çš„åˆ†æèƒ½åŠ›ã€‚ å¦‚æœæ¯æ¬¡åˆ†æéƒ½éœ€è¦å†™ä»£ç è¿›è¡Œ,å·¥ä½œé‡å¤§è€Œä¸”ä½¿ç”¨çš„é—¨æ§›æ¯”è¾ƒé«˜
    - å®æ—¶æ€§å’Œæ€§èƒ½é—®é¢˜ã€‚éšç€æ—¥å¿—æ•°æ®é‡çš„å¢é•¿ï¼Œæƒ³è¦å®æ—¶ç›‘æ§åˆ†ææ•°æ®ï¼Œå°±å¿…ç„¶ä¼šå½±å“ç³»ç»Ÿæ€§èƒ½ã€‚è¿™äºŒè€…çš„å¹³è¡¡ä¸ä¼˜åŒ–
* æ—¥å¿—åˆ†æä¸­çš„æœç´¢å¼•æ“ä¸»è¦ç”¨äºæ•°æ®çš„è¯»å†™ï¼šå³å®æ—¶çš„æ¥æ”¶æœ€æ–°äº§ç”Ÿçš„æ—¥å¿—æ•°æ®ï¼Œå¹¶è¿›è¡Œç´¢å¼•ï¼Œä»¥å®æ—¶æˆ–è€…å‡†å®æ—¶çš„æ–¹å¼æä¾›ç»™ç”¨æˆ·è¿›è¡Œæœç´¢å’Œç»Ÿè®¡åˆ†æã€‚

## [allinurl / goaccess](https://github.com/allinurl/goaccess):GoAccess is a real-time web log analyzer and interactive viewer that runs in a terminal in *nix systems or through your browser. https://goaccess.io

* å®Œå…¨å®æ—¶ ç»ˆç«¯æ¯200æ¯«ç§’æ›´æ–°ä¸€æ¬¡ï¼ŒHTMLæ¯ç§’æ›´æ–°ä¸€æ¬¡ã€‚
* éœ€è¦æœ€å°‘çš„é…ç½® ç›´æ¥æ¥æ—¥å¿—æ–‡ä»¶å¹¶è¿è¡Œï¼Œé€‰æ‹©æ—¥å¿—æ ¼å¼ï¼Œç„¶åè®©GoAccessè§£æè®¿é—®æ—¥å¿—å¹¶å‘æ‚¨æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯ã€‚
* è·Ÿè¸ªåº”ç”¨ç¨‹åºå“åº”æ—¶é—´ è·Ÿè¸ªæœåŠ¡è¯·æ±‚æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚å¦‚æœæ‚¨è¦è·Ÿè¸ªæ­£åœ¨é™ä½ç½‘ç«™é€Ÿåº¦çš„é¡µé¢ï¼Œåˆ™éå¸¸æœ‰ç”¨ã€‚
* å‡ ä¹æ‰€æœ‰Webæ—¥å¿—æ ¼å¼ GoAccess å…è®¸ä½¿ç”¨ä»»ä½•è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼å­—ç¬¦ä¸²ã€‚é¢„å®šä¹‰çš„é€‰é¡¹åŒ…æ‹¬ Apacheï¼ŒNginxï¼ŒAmazon S3ï¼ŒElastic Load Balancingï¼ŒCloudFrontç­‰ã€‚
* å¢é‡æ—¥å¿—å¤„ç† éœ€è¦æ•°æ®æŒä¹…æ€§å—ï¼ŸGoAccess èƒ½å¤Ÿé€šè¿‡ç£ç›˜ B + Tree æ•°æ®åº“å¢é‡å¤„ç†æ—¥å¿—ã€‚
* ä»…ä¸€ä¸ªä¾èµ– GoAccessæ˜¯ç”¨Cè¯­è¨€ç¼–å†™çš„ã€‚è¦è¿è¡Œå®ƒï¼Œä½ åªéœ€è¦å°† ncurses ä½œä¸ºä¾èµ–é¡¹
* è®¿é—®æ¬¡æ•° æŒ‰å°æ—¶æˆ–æ—¥æœŸæ¥ç»Ÿè®¡è¯·æ±‚æ•°ï¼Œè®¿é—®è€…ï¼Œå¸¦å®½ç­‰ã€‚
* å¤šä¸ªè™šæ‹Ÿä¸»æœºçš„æŒ‡æ ‡ æœ‰å¤šä¸ªè™šæ‹Ÿä¸»æœºï¼Ÿå®ƒå…·æœ‰ä¸€ä¸ªé¢æ¿ï¼Œè¯¥é¢æ¿æ˜¾ç¤ºå“ªä¸ªè™šæ‹Ÿä¸»æœºæ­£åœ¨æ¶ˆè€—å¤§å¤šæ•°WebæœåŠ¡å™¨èµ„æºã€‚
* é¢œè‰²æ–¹æ¡ˆå¯å®šåˆ¶çš„ Tailor GoAccess å¯ä»¥é€‚åˆæ‚¨è‡ªå·±çš„é¢œè‰²å£å‘³/æ–¹æ¡ˆã€‚é€šè¿‡ç»ˆç«¯ï¼Œæˆ–è€…ç®€å•åœ°åœ¨HTMLè¾“å‡ºä¸Šåº”ç”¨æ ·å¼è¡¨ã€‚
* å¯¹å¤§å‹æ•°æ®é›†çš„æ”¯æŒ GoAccess ä¸ºå¤§å‹æ•°æ®é›†æä¾›äº†ä¸€ä¸ªç£ç›˜B + Treeå­˜å‚¨ã€‚
* Dockeræ”¯æŒ èƒ½å¤Ÿä»ä¸Šæ¸¸æ„å»º GoAccess çš„Dockeræ˜ åƒã€‚
* GoAccesså…è®¸ä»»ä½•è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼å­—ç¬¦ä¸²ã€‚ä½¿ç”¨ -log-format å‚æ•°æŒ‡å®šæ—¥å¿—æ ¼å¼ï¼Œé¢„å®šä¹‰çš„é€‰é¡¹åŒ…æ‹¬ä½†ä¸é™äºï¼š
    - COMBINED | è”åˆæ—¥å¿—æ ¼å¼ï¼ˆApacheã€Nginxç­‰ï¼‰
    - VCOMBINED | æ”¯æŒè™šæ‹Ÿä¸»æœºçš„è”åˆæ—¥å¿—æ ¼å¼
    - COMMON | é€šç”¨æ—¥å¿—æ ¼å¼
    - VCOMMON | æ”¯æŒè™šæ‹Ÿä¸»æœºçš„é€šç”¨æ—¥å¿—æ ¼å¼
    - W3C | W3C æ‰©å±•æ—¥å¿—æ ¼å¼
    - SQUID | Native Squid æ—¥å¿—æ ¼å¼
    - CLOUDFRONT | äºšé©¬é€Š CloudFront Web åˆ†å¸ƒå¼ç³»ç»Ÿ
    - CLOUDSTORAGE | è°·æ­Œäº‘å­˜å‚¨
    - AWSELB | äºšé©¬é€Šå¼¹æ€§è´Ÿè½½å‡è¡¡
    - AWSS3 | äºšé©¬é€Šç®€å•å­˜å‚¨æœåŠ¡ (S3)
* ä¸‰ç§ç±»å‹çš„å­˜å‚¨æ–¹å¼
    - é»˜è®¤å“ˆå¸Œè¡¨ å†…å­˜å“ˆå¸Œè¡¨å¯ä»¥æä¾›è¾ƒå¥½çš„æ€§èƒ½ï¼Œç¼ºç‚¹æ˜¯æ•°æ®é›†çš„å¤§å°å—é™äºç‰©ç†å†…å­˜çš„å¤§å°ã€‚GoAccess é»˜è®¤ä½¿ç”¨å†…å­˜å“ˆå¸Œè¡¨ã€‚å¦‚æœä½ çš„å†…å­˜å¯ä»¥è£…ä¸‹ä½ çš„æ•°æ®é›†ï¼Œé‚£ä¹ˆè¿™ç§æ¨¡å¼çš„è¡¨ç°éå¸¸æ£’ã€‚æ­¤æ¨¡å¼å…·æœ‰éå¸¸å¥½çš„å†…å­˜åˆ©ç”¨ç‡å’Œæ€§èƒ½è¡¨ç°ã€‚
    - Tokyo Cabinet ç£ç›˜ B+ æ ‘
ä½¿ç”¨è¿™ç§æ¨¡å¼æ¥å¤„ç†å·¨å¤§çš„æ•°æ®é›†ï¼Œå¤§åˆ°ä¸å¯èƒ½åœ¨å†…å­˜ä¸­å®Œæˆä»»åŠ¡ã€‚å½“æ•°æ®æäº¤åˆ°ç£ç›˜ä»¥åï¼ŒB+æ ‘æ•°æ®åº“æ¯”ä»»ä½•ä¸€ç§å“ˆå¸Œæ•°æ®åº“éƒ½è¦æ…¢ã€‚ä½†æ˜¯ï¼Œä½¿ç”¨ SSD å¯ä»¥æå¤§çš„æé«˜æ€§èƒ½ã€‚å¾€åæ‚¨å¯èƒ½éœ€è¦å¿«é€Ÿè½½å…¥ä¿å­˜çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™ç§æ–¹å¼å°±å¯ä»¥è¢«ä½¿ç”¨ã€‚
    - Tokyo Cabinet å†…å­˜å“ˆå¸Œè¡¨ ä½œä¸ºé»˜è®¤å“ˆå¸Œè¡¨çš„æ›¿æ¢æ–¹æ¡ˆã€‚å› ä¸ºä½¿ç”¨é€šç”¨ç±»å‹åœ¨å†…å­˜è¡¨ç°ä»¥åŠé€Ÿåº¦æ–¹é¢éƒ½å¾ˆå¹³å‡
* è‡ªå®šä¹‰ æ—¥å¿—/æ—¥æœŸ æ ¼å¼ é…ç½®æ–‡ä»¶ä½äºï¼š`%sysconfdir%/goaccess.conf` æˆ–è€… `~/.goaccessrc` `%sysconfdir%`` å¯èƒ½æ˜¯ `/etc/`, `/usr/etc/` æˆ–è€… `/usr/local/`etc/
    - time-format å‚æ•° time-format åè·Ÿéšä¸€ä¸ªç©ºæ ¼ç¬¦ï¼ŒæŒ‡å®šæ—¥å¿—çš„æ—¶é—´æ ¼å¼ï¼ŒåŒ…å«æ™®é€šå­—ç¬¦ä¸ç‰¹æ®Šæ ¼å¼è¯´æ˜ç¬¦çš„ä»»æ„ç»„åˆã€‚ä»–ä»¬éƒ½ç”±ç™¾åˆ†å· (%)å¼€å§‹ã€‚å‚è€ƒ man strftimeã€‚%T æˆ–è€… %H:%M:%S æ³¨æ„ï¼šå¦‚æœç»™å®šçš„æ—¶é—´æˆ³ä»¥å¾®ç§’è®¡ç®—ï¼Œåˆ™å¿…é¡»åœ¨ time-format ä¸­ä½¿ç”¨å‚æ•° %fã€‚
    - date-format å‚æ•° date-format åè·Ÿéšä¸€ä¸ªç©ºæ ¼ç¬¦ï¼ŒæŒ‡å®šæ—¥å¿—çš„æ—¥æœŸæ ¼å¼ï¼ŒåŒ…å«æ™®é€šå­—ç¬¦ä¸ç‰¹æ®Šæ ¼å¼è¯´æ˜ç¬¦çš„ä»»æ„ç»„åˆã€‚ä»–ä»¬éƒ½ç”±ç™¾åˆ†å· (%)å¼€å§‹ã€‚å‚è€ƒ man strftimeã€‚ æ³¨æ„ï¼šå¦‚æœç»™å®šçš„æ—¶é—´æˆ³ä»¥å¾®ç§’è®¡ç®—ï¼Œåˆ™å¿…é¡»åœ¨ date-format ä¸­ä½¿ç”¨å‚æ•° %f ã€‚
    - log-format å‚æ•° log-format åè·Ÿéšä¸€ä¸ªç©ºæ ¼ç¬¦æˆ–è€…åˆ¶è¡¨åˆ†éš”ç¬¦(\t)ï¼Œç”¨äºæŒ‡å®šæ—¥å¿—å­—ç¬¦ä¸²æ ¼å¼ã€‚
    - ç‰¹æ®Šæ ¼å¼è¯´æ˜ç¬¦
        + %x åŒ¹é… time-format å’Œ date-format å˜é‡çš„æ—¥æœŸå’Œæ—¶é—´å­—æ®µã€‚ç”¨äºä½¿ç”¨æ—¶é—´æˆ³æ¥ä»£æ›¿æ—¥æœŸå’Œæ—¶é—´ä¸¤ä¸ªç‹¬ç«‹å˜é‡çš„åœºæ™¯ã€‚
        + %t åŒ¹é… time-format å˜é‡çš„æ—¶é—´å­—æ®µã€‚
        + %d åŒ¹é… date-format å˜é‡çš„æ—¥æœŸå­—æ®µã€‚
        + %v æ ¹æ® canonical åç§°è®¾å®šçš„æœåŠ¡å™¨åç§°(æœåŠ¡åŒºæˆ–è€…è™šæ‹Ÿä¸»æœº)ã€‚
        + %e è¯·æ±‚æ–‡æ¡£æ—¶ç”± HTTP éªŒè¯å†³å®šçš„ç”¨æˆ· IDã€‚
        + %h ä¸»æœº(å®¢æˆ·ç«¯IPåœ°å€ï¼ŒIPv4 æˆ–è€… IPv6)ã€‚
        + %r å®¢æˆ·ç«¯è¯·æ±‚çš„è¡Œæ•°ã€‚è¿™äº›è¯·æ±‚ä½¿ç”¨åˆ†éš”ç¬¦(å•å¼•å·ï¼ŒåŒå¼•å·)å¼•ç”¨çš„éƒ¨åˆ†å¯ä»¥è¢«è§£æã€‚å¦åˆ™ï¼Œéœ€è¦ä½¿ç”¨ç”±ç‰¹æ®Šæ ¼å¼è¯´æ˜ç¬¦(ä¾‹å¦‚ï¼š%m, - %U, %q å’Œ %H)ç»„åˆæ ¼å¼å»è§£æç‹¬ç«‹çš„å­—æ®µã€‚
        + æ³¨æ„: æ—¢å¯ä»¥ä½¿ç”¨ %r è·å–å®Œæ•´çš„è¯·æ±‚ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ %m, %U, %q and %H å»ç»„åˆä½ çš„è¯·æ±‚ï¼Œä½†æ˜¯ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚
        + %m è¯·æ±‚çš„æ–¹æ³•ã€‚
        + %U è¯·æ±‚çš„ URLã€‚
        + æ³¨æ„: å¦‚æœæŸ¥è¯¢å­—ç¬¦ä¸²åœ¨ %U ä¸­ï¼Œåˆ™æ— éœ€ä½¿ç”¨ %qã€‚ä½†æ˜¯ï¼Œå¦‚æœ URL è·¯å¾„ä¸­æ²¡æœ‰åŒ…å«ä»»ä½•æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œåˆ™ä½ å¯ä»¥ä½¿ç”¨ %q æŸ¥è¯¢å­—ç¬¦ä¸²å°†é™„åŠ åœ¨è¯·æ±‚åé¢ã€‚
        + %q æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚
        + %H è¯·æ±‚åè®®ã€‚
        + %s æœåŠ¡å™¨å›ä¼ å®¢æˆ·ç«¯çš„çŠ¶æ€ç ã€‚
        + %b å›ä¼ å®¢æˆ·ç«¯çš„å¯¹è±¡çš„å¤§å°ã€‚
        + %R HTTP è¯·æ±‚çš„ "Referer" å€¼ã€‚
        + %u HTTP è¯·æ±‚çš„ "UserAgent" å€¼ã€‚
        + %D å¤„ç†è¯·æ±‚çš„æ—¶é—´æ¶ˆè€—ï¼Œä½¿ç”¨å¾®ç§’è®¡ç®—ã€‚
        + %T å¤„ç†è¯·æ±‚çš„æ—¶é—´æ¶ˆè€—ï¼Œä½¿ç”¨å¸¦ç§’å’Œæ¯«ç§’è®¡ç®—ã€‚
        + %L å¤„ç†è¯·æ±‚çš„æ—¶é—´æ¶ˆè€—ï¼Œä½¿ç”¨åè¿›åˆ¶æ•°è¡¨ç¤ºçš„æ¯«ç§’è®¡ç®—ã€‚
        + %^ å¿½ç•¥æ­¤å­—æ®µã€‚
        + %~ ç»§ç»­è§£ææ—¥å¿—å­—ç¬¦ä¸²ç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªéç©ºå­—ç¬¦(!isspace)ã€‚
        + ~h åœ¨ X-Forwarded-For (XFF) å­—æ®µä¸­çš„ä¸»æœº(å®¢æˆ·ç«¯ IP åœ°å€ï¼ŒIPv4 æˆ–è€… IPv6)ã€‚
* å‚è€ƒ
    - https://goaccess.cc/
    - https://github.com/allinurl/goaccess

```sh
# æºç å®‰è£…
wget https://tar.goaccess.io/goaccess-1.3.tar.gz
tar -xzvf goaccess-1.3.tar.gz
cd goaccess-1.3/
./configure --enable-utf8 --enable-geoip=legacy
make
make install

# Debian / Ubuntu
echo "deb https://deb.goaccess.io/ $(lsb_release -cs) main" | sudo tee -a /etc/apt/sources.list.d/    goaccess.list
wget -O - https://deb.goaccess.io/gnugpg.key | sudo apt-key add -
sudo apt-get update
sudo apt-get install goaccess
## æ³¨æ„äº‹é¡¹ï¼š è¦è·å¾—ç£ç›˜ä¸Šçš„æ”¯æŒï¼ˆTrusty + æˆ– Wheezy +ï¼‰ï¼Œè¯·è¿è¡Œï¼š
sudo apt-get install goaccess-tcb

# CentOS / RedHat
yum install goaccess -y

# OS X / Homebrew
brew install goaccess

# è¦è¾“å‡ºåˆ°ç»ˆç«¯å¹¶ç”Ÿæˆäº¤äº’å¼æŠ¥å‘Š
goaccess access.log

# ç”Ÿæˆ HTML æŠ¥å‘Š
goaccess --log-format=COMBINED access.log -a > report.html
# ç”Ÿæˆ JSON æŠ¥å‘Š
goaccess --log-format=COMBINED access.log -a -d -o json > report.json
# ç”Ÿæˆ CSV æ–‡ä»¶
goaccess --log-format=COMBINED access.log --no-csv-summary -o csv > report.csv
# GoAccess è¿˜ä¸ºå®æ—¶è¿‡æ»¤å’Œè§£ææä¾›äº†æå¤§çš„çµæ´»æ€§ã€‚ä¾‹å¦‚ï¼Œè¦ä»goaccesså¯åŠ¨ä»¥æ¥é€šè¿‡ç›‘è§†æ—¥å¿—æ¥å¿«é€Ÿè¯Šæ–­é—®é¢˜ï¼š
tail -f access.log | goaccess -
# æ›´å¦™çš„æ˜¯ï¼Œè¿›è¡Œç­›é€‰ï¼ŒåŒæ—¶ä¿æŒæ‰“å¼€çš„ç®¡é“ä¿æŒå®æ—¶åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨çš„ tail -f å’ŒåŒ¹é…æ¨¡å¼çš„å·¥å…·ï¼Œå¦‚grepï¼Œawkï¼Œsedï¼Œç­‰ï¼š
tail -f access.log | grep -i --line-buffered 'firefox' | goaccess --log-format=COMBINED -
# æˆ–ä»æ–‡ä»¶çš„å¼€å¤´è¿›è¡Œè§£æï¼ŒåŒæ—¶ä¿æŒç®¡é“å¤„äºæ‰“å¼€çŠ¶æ€å¹¶åº”ç”¨è¿‡æ»¤å™¨
tail -f -n +0 access.log | grep -i --line-buffered 'firefox' | goaccess -o report.html    --real-time-html -
# ç›‘ç¤ºå¤šä¸ªæ—¥å¿—æ–‡ä»¶
goaccess access.log access.log.1
# å®æ—¶ HTML è¾“å‡º ç”Ÿæˆå®æ—¶HTMLæŠ¥å‘Šçš„è¿‡ç¨‹ä¸åˆ›å»ºé™æ€æŠ¥å‘Šçš„è¿‡ç¨‹éå¸¸ç›¸ä¼¼ã€‚åª--real-time-htmléœ€è¦ä½¿å…¶å®æ—¶å³å¯ã€‚
goaccess --log-format=COMBINED access.log -o /usr/share/nginx/html/your_s
```

## å·¥å…·

* [Graylog2/graylog2-server](https://github.com/Graylog2/graylog2-server):Free and open source log management https://www.graylog.org/
* [klaussinani/signale](https://github.com/klaussinani/signale):ğŸ‘‹ Hackable console logger
* [Graylog](https://www.graylog.org/products/open-source)
* [Nagios](https://www.nagios.org/downloads/)
* [Elastic Stack](https://www.elastic.co/products)
    - *Elasticsearch* æ—¨åœ¨å¸®åŠ©ç”¨æˆ·ä½¿ç”¨å¤šç§æŸ¥è¯¢è¯­è¨€å’Œç±»å‹åœ¨æ•°æ®é›†ä¸­æ‰¾å‡ºåŒ¹é…é¡¹ã€‚é€Ÿåº¦æ˜¯è¿™ä¸ªå·¥å…·çš„æœ€å¤§ä¼˜åŠ¿ã€‚å®ƒå¯ä»¥æ‰©å±•æˆç”±æ•°ç™¾ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹ç»„æˆçš„é›†ç¾¤ï¼Œè½»æ¾å¤„ç† PB çº§çš„æ•°æ®ã€‚
    - *Kibana* æ˜¯ä¸€ä¸ªå¯è§†åŒ–å·¥å…·ï¼Œå®ƒä¸ Elasticsearch ä¸€èµ·è¿è¡Œï¼Œå…è®¸ç”¨æˆ·åˆ†æä»–ä»¬çš„æ•°æ®å¹¶æ„å»ºå¼ºå¤§çš„æŠ¥å‘Šã€‚å½“ä½ ç¬¬ä¸€æ¬¡åœ¨æœåŠ¡å™¨é›†ç¾¤ä¸Šå®‰è£… Kibana å¼•æ“æ—¶ï¼Œä½ å°†è·å¾—ä¸€ä¸ªæ˜¾ç¤ºæ•°æ®ç»Ÿè®¡ã€å›¾å½¢ç”šè‡³åŠ¨ç”»çš„ç•Œé¢ã€‚
    - *Logstash*ï¼Œå®ƒæ˜¯ä½œä¸ºä¸€ä¸ªçº¯ç²¹çš„ã€è¿›å…¥ Elasticsearch æ•°æ®åº“çš„æœåŠ¡å™¨ç«¯ç®¡é“ã€‚ä½ å¯ä»¥ä½¿ç”¨å„ç§ç¼–ç è¯­è¨€å’Œ API é›†æˆ Logstashã€‚è¿™æ ·ï¼Œä½ çš„ç½‘ç«™å’Œç§»åŠ¨åº”ç”¨ç¨‹åºä¸­çš„ä¿¡æ¯å°±å¯ä»¥ç›´æ¥è¾“å…¥åˆ°å¼ºå¤§çš„ Elastic Stalk æœç´¢å¼•æ“ä¸­ã€‚
* [LOGalyze](http://www.logalyze.com)
* [Fluentd](https://www.fluentd.org)
* [rsyslog/rsyslog](https://github.com/rsyslog/rsyslog):a Rocket-fast SYStem for LOG processing http://www.rsyslog.com
